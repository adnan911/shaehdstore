function Cp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},ea={},Nd={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),Op=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),Lp=Symbol.for("react.provider"),Ip=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Dp=Symbol.for("react.memo"),Mp=Symbol.for("react.lazy"),wu=Symbol.iterator;function Fp(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var Cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pd=Object.assign,Od={};function wn(t,e,r){this.props=t,this.context=e,this.refs=Od,this.updater=r||Cd}wn.prototype.isReactComponent={};wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Td(){}Td.prototype=wn.prototype;function wl(t,e,r){this.props=t,this.context=e,this.refs=Od,this.updater=r||Cd}var xl=wl.prototype=new Td;xl.constructor=wl;Pd(xl,wn.prototype);xl.isPureReactComponent=!0;var xu=Array.isArray,Rd=Object.prototype.hasOwnProperty,_l={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Ld(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Rd.call(e,n)&&!Ad.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ns,type:t,key:i,ref:a,props:s,_owner:_l.current}}function zp(t,e){return{$$typeof:Ns,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ns}function Bp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _u=/\/+/g;function ba(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bp(""+t.key):e.toString(36)}function li(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ns:case Op:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+ba(a,0):n,xu(s)?(r="",t!=null&&(r=t.replace(_u,"$&/")+"/"),li(s,e,r,"",function(u){return u})):s!=null&&(bl(s)&&(s=zp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_u,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",xu(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+ba(i,o);a+=li(i,e,r,l,s)}else if(l=Fp(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+ba(i,o++),a+=li(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Us(t,e,r){if(t==null)return t;var n=[],s=0;return li(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Wp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},ui={transition:null},Vp={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ui,ReactCurrentOwner:_l};function Id(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Us,forEach:function(t,e,r){Us(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Us(t,function(){e++}),e},toArray:function(t){return Us(t,function(e){return e})||[]},only:function(t){if(!bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=wn;M.Fragment=Tp;M.Profiler=Ap;M.PureComponent=wl;M.StrictMode=Rp;M.Suspense=Up;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;M.act=Id;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Pd({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=_l.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Rd.call(e,l)&&!Ad.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ns,type:t.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(t){return t={$$typeof:Ip,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lp,_context:t},t.Consumer=t};M.createElement=Ld;M.createFactory=function(t){var e=Ld.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:$p,render:t}};M.isValidElement=bl;M.lazy=function(t){return{$$typeof:Mp,_payload:{_status:-1,_result:t},_init:Wp}};M.memo=function(t,e){return{$$typeof:Dp,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=ui.transition;ui.transition={};try{t()}finally{ui.transition=e}};M.unstable_act=Id;M.useCallback=function(t,e){return Ae.current.useCallback(t,e)};M.useContext=function(t){return Ae.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};M.useEffect=function(t,e){return Ae.current.useEffect(t,e)};M.useId=function(){return Ae.current.useId()};M.useImperativeHandle=function(t,e,r){return Ae.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Ae.current.useMemo(t,e)};M.useReducer=function(t,e,r){return Ae.current.useReducer(t,e,r)};M.useRef=function(t){return Ae.current.useRef(t)};M.useState=function(t){return Ae.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return Ae.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return Ae.current.useTransition()};M.version="18.3.1";Nd.exports=M;var b=Nd.exports;const qp=Pp(b),Hp=Cp({__proto__:null,default:qp},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=b,Gp=Symbol.for("react.element"),Jp=Symbol.for("react.fragment"),Qp=Object.prototype.hasOwnProperty,Yp=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xp={key:!0,ref:!0,__self:!0,__source:!0};function $d(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Qp.call(e,n)&&!Xp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Gp,type:t,key:i,ref:a,props:s,_owner:Yp.current}}ea.Fragment=Jp;ea.jsx=$d;ea.jsxs=$d;Ed.exports=ea;var c=Ed.exports,Ud={exports:{}},Ke={},Dd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,I){var U=N.length;N.push(I);e:for(;0<U;){var F=U-1>>>1,K=N[F];if(0<s(K,I))N[F]=I,N[U]=K,U=F;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var I=N[0],U=N.pop();if(U!==I){N[0]=U;e:for(var F=0,K=N.length,ft=K>>>1;F<ft;){var pt=2*(F+1)-1,Ar=N[pt],ar=pt+1,$s=N[ar];if(0>s(Ar,U))ar<K&&0>s($s,Ar)?(N[F]=$s,N[ar]=U,F=ar):(N[F]=Ar,N[pt]=U,F=pt);else if(ar<K&&0>s($s,U))N[F]=$s,N[ar]=U,F=ar;else break e}}return I}function s(N,I){var U=N.sortIndex-I.sortIndex;return U!==0?U:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,v=!1,p=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=N)n(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(u)}}function x(N){if(w=!1,g(N),!p)if(r(l)!==null)p=!0,ce(S);else{var I=r(u);I!==null&&ke(x,I.startTime-N)}}function S(N,I){p=!1,w&&(w=!1,y(C),C=-1),v=!0;var U=f;try{for(g(I),d=r(l);d!==null&&(!(d.expirationTime>I)||N&&!Se());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var K=F(d.expirationTime<=I);I=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&n(l),g(I)}else n(l);d=r(l)}if(d!==null)var ft=!0;else{var pt=r(u);pt!==null&&ke(x,pt.startTime-I),ft=!1}return ft}finally{d=null,f=U,v=!1}}var k=!1,E=null,C=-1,L=5,T=-1;function Se(){return!(t.unstable_now()-T<L)}function B(){if(E!==null){var N=t.unstable_now();T=N;var I=!0;try{I=E(!0,N)}finally{I?D():(k=!1,E=null)}}else k=!1}var D;if(typeof m=="function")D=function(){m(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=B,D=function(){re.postMessage(null)}}else D=function(){_(B,0)};function ce(N){E=N,k||(k=!0,D())}function ke(N,I){C=_(function(){N(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,ce(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var U=f;f=I;try{return N()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=f;f=N;try{return I()}finally{f=U}},t.unstable_scheduleCallback=function(N,I,U){var F=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,N={id:h++,callback:I,priorityLevel:N,startTime:U,expirationTime:K,sortIndex:-1},U>F?(N.sortIndex=U,e(u,N),r(l)===null&&N===r(u)&&(w?(y(C),C=-1):w=!0,ke(x,U-F))):(N.sortIndex=K,e(l,N),p||v||(p=!0,ce(S))),N},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(N){var I=f;return function(){var U=f;f=I;try{return N.apply(this,arguments)}finally{f=U}}}})(Md);Dd.exports=Md;var Zp=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=b,He=Zp;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fd=new Set,es={};function Pr(t,e){dn(t,e),dn(t+"Capture",e)}function dn(t,e){for(es[t]=e,t=0;t<e.length;t++)Fd.add(e[t])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bu={},Su={};function rm(t){return oo.call(Su,t)?!0:oo.call(bu,t)?!1:tm.test(t)?Su[t]=!0:(bu[t]=!0,!1)}function nm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sm(t,e,r,n){if(e===null||typeof e>"u"||nm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sl=/[\-:]([a-z])/g;function kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sl,kl);be[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sl,kl);be[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sl,kl);be[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function jl(t,e,r,n){var s=be.hasOwnProperty(e)?be[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sm(e,r,s,n)&&(r=null),n||s===null?rm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Rt=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),zd=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),Nl=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Wd=Symbol.for("react.offscreen"),ku=Symbol.iterator;function kn(t){return t===null||typeof t!="object"?null:(t=ku&&t[ku]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Sa;function In(t){if(Sa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sa=e&&e[1]||""}return`
`+Sa+t}var ka=!1;function ja(t,e){if(!t||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?In(t):""}function im(t){switch(t.tag){case 5:return In(t.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 2:case 15:return t=ja(t.type,!1),t;case 11:return t=ja(t.type.render,!1),t;case 1:return t=ja(t.type,!0),t;default:return""}}function ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Vr:return"Portal";case lo:return"Profiler";case El:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bd:return(t.displayName||"Context")+".Consumer";case zd:return(t._context.displayName||"Context")+".Provider";case Nl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:ho(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return ho(t(e))}catch{}}return null}function am(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ho(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function om(t){var e=Vd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ms(t){t._valueTracker||(t._valueTracker=om(t))}function qd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Vd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fo(t,e){var r=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ju(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hd(t,e){e=e.checked,e!=null&&jl(t,"checked",e,!1)}function po(t,e){Hd(t,e);var r=Zt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mo(t,e.type,r):e.hasOwnProperty("defaultValue")&&mo(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mo(t,e,r){(e!=="number"||_i(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $n=Array.isArray;function nn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function go(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if($n(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zt(r)}}function Kd(t,e){var r=Zt(e.value),n=Zt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Cu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fs,Jd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ts(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(t){lm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zn[e]=zn[t]})});function Qd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zn.hasOwnProperty(t)&&zn[t]?(""+e).trim():e+"px"}function Yd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Qd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var um=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,e){if(e){if(um[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function wo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function Pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _o=null,sn=null,an=null;function Pu(t){if(t=Os(t)){if(typeof _o!="function")throw Error(j(280));var e=t.stateNode;e&&(e=ia(e),_o(t.stateNode,t.type,e))}}function Xd(t){sn?an?an.push(t):an=[t]:sn=t}function Zd(){if(sn){var t=sn,e=an;if(an=sn=null,Pu(t),e)for(t=0;t<e.length;t++)Pu(e[t])}}function eh(t,e){return t(e)}function th(){}var Ea=!1;function rh(t,e,r){if(Ea)return t(e,r);Ea=!0;try{return eh(t,e,r)}finally{Ea=!1,(sn!==null||an!==null)&&(th(),Zd())}}function rs(t,e){var r=t.stateNode;if(r===null)return null;var n=ia(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var bo=!1;if(Ct)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){bo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{bo=!1}function cm(t,e,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Bn=!1,bi=null,Si=!1,So=null,dm={onError:function(t){Bn=!0,bi=t}};function hm(t,e,r,n,s,i,a,o,l){Bn=!1,bi=null,cm.apply(dm,arguments)}function fm(t,e,r,n,s,i,a,o,l){if(hm.apply(this,arguments),Bn){if(Bn){var u=bi;Bn=!1,bi=null}else throw Error(j(198));Si||(Si=!0,So=u)}}function Or(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function nh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ou(t){if(Or(t)!==t)throw Error(j(188))}function pm(t){var e=t.alternate;if(!e){if(e=Or(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ou(s),t;if(i===n)return Ou(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function sh(t){return t=pm(t),t!==null?ih(t):null}function ih(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ih(t);if(e!==null)return e;t=t.sibling}return null}var ah=He.unstable_scheduleCallback,Tu=He.unstable_cancelCallback,mm=He.unstable_shouldYield,gm=He.unstable_requestPaint,ae=He.unstable_now,vm=He.unstable_getCurrentPriorityLevel,Ol=He.unstable_ImmediatePriority,oh=He.unstable_UserBlockingPriority,ki=He.unstable_NormalPriority,ym=He.unstable_LowPriority,lh=He.unstable_IdlePriority,ta=null,wt=null;function wm(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ta,t,void 0,(t.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:bm,xm=Math.log,_m=Math.LN2;function bm(t){return t>>>=0,t===0?32:31-(xm(t)/_m|0)|0}var zs=64,Bs=4194304;function Un(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ji(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Un(o):(i&=a,i!==0&&(n=Un(i)))}else a=r&~s,a!==0?n=Un(a):i!==0&&(n=Un(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ut(e),s=1<<r,n|=t[r],e&=~s;return n}function Sm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ut(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Sm(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uh(){var t=zs;return zs<<=1,!(zs&4194240)&&(zs=64),t}function Na(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Cs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ut(e),t[e]=r}function jm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ut(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Tl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ut(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var V=0;function ch(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dh,Rl,hh,fh,ph,jo=!1,Ws=[],Vt=null,qt=null,Ht=null,ns=new Map,ss=new Map,Dt=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(t,e){switch(t){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function En(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Os(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nm(t,e,r,n,s){switch(e){case"focusin":return Vt=En(Vt,t,e,r,n,s),!0;case"dragenter":return qt=En(qt,t,e,r,n,s),!0;case"mouseover":return Ht=En(Ht,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,En(ns.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,En(ss.get(i)||null,t,e,r,n,s)),!0}return!1}function mh(t){var e=gr(t.target);if(e!==null){var r=Or(e);if(r!==null){if(e=r.tag,e===13){if(e=nh(r),e!==null){t.blockedOn=e,ph(t.priority,function(){hh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ci(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Eo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xo=n,r.target.dispatchEvent(n),xo=null}else return e=Os(r),e!==null&&Rl(e),t.blockedOn=r,!1;e.shift()}return!0}function Au(t,e,r){ci(t)&&r.delete(e)}function Cm(){jo=!1,Vt!==null&&ci(Vt)&&(Vt=null),qt!==null&&ci(qt)&&(qt=null),Ht!==null&&ci(Ht)&&(Ht=null),ns.forEach(Au),ss.forEach(Au)}function Nn(t,e){t.blockedOn===e&&(t.blockedOn=null,jo||(jo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Cm)))}function is(t){function e(s){return Nn(s,t)}if(0<Ws.length){Nn(Ws[0],t);for(var r=1;r<Ws.length;r++){var n=Ws[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vt!==null&&Nn(Vt,t),qt!==null&&Nn(qt,t),Ht!==null&&Nn(Ht,t),ns.forEach(e),ss.forEach(e),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)mh(r),r.blockedOn===null&&Dt.shift()}var on=Rt.ReactCurrentBatchConfig,Ei=!0;function Pm(t,e,r,n){var s=V,i=on.transition;on.transition=null;try{V=1,Al(t,e,r,n)}finally{V=s,on.transition=i}}function Om(t,e,r,n){var s=V,i=on.transition;on.transition=null;try{V=4,Al(t,e,r,n)}finally{V=s,on.transition=i}}function Al(t,e,r,n){if(Ei){var s=Eo(t,e,r,n);if(s===null)Ua(t,e,n,Ni,r),Ru(t,n);else if(Nm(s,t,e,r,n))n.stopPropagation();else if(Ru(t,n),e&4&&-1<Em.indexOf(t)){for(;s!==null;){var i=Os(s);if(i!==null&&dh(i),i=Eo(t,e,r,n),i===null&&Ua(t,e,n,Ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ua(t,e,n,null,r)}}var Ni=null;function Eo(t,e,r,n){if(Ni=null,t=Pl(n),t=gr(t),t!==null)if(e=Or(t),e===null)t=null;else if(r=e.tag,r===13){if(t=nh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ni=t,null}function gh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case Ol:return 1;case oh:return 4;case ki:case ym:return 16;case lh:return 536870912;default:return 16}default:return 16}}var zt=null,Ll=null,di=null;function vh(){if(di)return di;var t,e=Ll,r=e.length,n,s="value"in zt?zt.value:zt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return di=s.slice(t,1<n?1-n:void 0)}function hi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function Lu(){return!1}function Ge(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vs:Lu,this.isPropagationStopped=Lu,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),e}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Ge(xn),Ps=te({},xn,{view:0,detail:0}),Tm=Ge(Ps),Ca,Pa,Cn,ra=te({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cn&&(Cn&&t.type==="mousemove"?(Ca=t.screenX-Cn.screenX,Pa=t.screenY-Cn.screenY):Pa=Ca=0,Cn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),Iu=Ge(ra),Rm=te({},ra,{dataTransfer:0}),Am=Ge(Rm),Lm=te({},Ps,{relatedTarget:0}),Oa=Ge(Lm),Im=te({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=Ge(Im),Um=te({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dm=Ge(Um),Mm=te({},xn,{data:0}),$u=Ge(Mm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bm[t])?!!e[t]:!1}function $l(){return Wm}var Vm=te({},Ps,{key:function(t){if(t.key){var e=Fm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qm=Ge(Vm),Hm=te({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=Ge(Hm),Km=te({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Gm=Ge(Km),Jm=te({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=Ge(Jm),Ym=te({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xm=Ge(Ym),Zm=[9,13,27,32],Ul=Ct&&"CompositionEvent"in window,Wn=null;Ct&&"documentMode"in document&&(Wn=document.documentMode);var eg=Ct&&"TextEvent"in window&&!Wn,yh=Ct&&(!Ul||Wn&&8<Wn&&11>=Wn),Du=" ",Mu=!1;function wh(t,e){switch(t){case"keyup":return Zm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hr=!1;function tg(t,e){switch(t){case"compositionend":return xh(e);case"keypress":return e.which!==32?null:(Mu=!0,Du);case"textInput":return t=e.data,t===Du&&Mu?null:t;default:return null}}function rg(t,e){if(Hr)return t==="compositionend"||!Ul&&wh(t,e)?(t=vh(),di=Ll=zt=null,Hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yh&&e.locale!=="ko"?null:e.data;default:return null}}var ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ng[t.type]:e==="textarea"}function _h(t,e,r,n){Xd(n),e=Ci(e,"onChange"),0<e.length&&(r=new Il("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vn=null,as=null;function sg(t){Rh(t,0)}function na(t){var e=Jr(t);if(qd(e))return t}function ig(t,e){if(t==="change")return e}var bh=!1;if(Ct){var Ta;if(Ct){var Ra="oninput"in document;if(!Ra){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Ra=typeof zu.oninput=="function"}Ta=Ra}else Ta=!1;bh=Ta&&(!document.documentMode||9<document.documentMode)}function Bu(){Vn&&(Vn.detachEvent("onpropertychange",Sh),as=Vn=null)}function Sh(t){if(t.propertyName==="value"&&na(as)){var e=[];_h(e,as,t,Pl(t)),rh(sg,e)}}function ag(t,e,r){t==="focusin"?(Bu(),Vn=e,as=r,Vn.attachEvent("onpropertychange",Sh)):t==="focusout"&&Bu()}function og(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return na(as)}function lg(t,e){if(t==="click")return na(e)}function ug(t,e){if(t==="input"||t==="change")return na(e)}function cg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:cg;function os(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!oo.call(e,s)||!dt(t[s],e[s]))return!1}return!0}function Wu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vu(t,e){var r=Wu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wu(r)}}function kh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jh(){for(var t=window,e=_i();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_i(t.document)}return e}function Dl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dg(t){var e=jh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kh(r.ownerDocument.documentElement,r)){if(n!==null&&Dl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Vu(r,i);var a=Vu(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hg=Ct&&"documentMode"in document&&11>=document.documentMode,Kr=null,No=null,qn=null,Co=!1;function qu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Co||Kr==null||Kr!==_i(n)||(n=Kr,"selectionStart"in n&&Dl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&os(qn,n)||(qn=n,n=Ci(No,"onSelect"),0<n.length&&(e=new Il("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kr)))}function qs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gr={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Aa={},Eh={};Ct&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function sa(t){if(Aa[t])return Aa[t];if(!Gr[t])return t;var e=Gr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Eh)return Aa[t]=e[r];return t}var Nh=sa("animationend"),Ch=sa("animationiteration"),Ph=sa("animationstart"),Oh=sa("transitionend"),Th=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(t,e){Th.set(t,e),Pr(e,[t])}for(var La=0;La<Hu.length;La++){var Ia=Hu[La],fg=Ia.toLowerCase(),pg=Ia[0].toUpperCase()+Ia.slice(1);rr(fg,"on"+pg)}rr(Nh,"onAnimationEnd");rr(Ch,"onAnimationIteration");rr(Ph,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Oh,"onTransitionEnd");dn("onMouseEnter",["mouseout","mouseover"]);dn("onMouseLeave",["mouseout","mouseover"]);dn("onPointerEnter",["pointerout","pointerover"]);dn("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Ku(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fm(n,e,void 0,t),t.currentTarget=null}function Rh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Ku(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Ku(s,o,u),i=l}}}if(Si)throw t=So,Si=!1,So=null,t}function Q(t,e){var r=e[Ao];r===void 0&&(r=e[Ao]=new Set);var n=t+"__bubble";r.has(n)||(Ah(e,t,2,!1),r.add(n))}function $a(t,e,r){var n=0;e&&(n|=4),Ah(r,t,n,e)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[Hs]){t[Hs]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(mg.has(r)||$a(r,!1,t),$a(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hs]||(e[Hs]=!0,$a("selectionchange",!1,e))}}function Ah(t,e,r,n){switch(gh(e)){case 1:var s=Pm;break;case 4:s=Om;break;default:s=Al}r=s.bind(null,e,r,t),s=void 0,!bo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ua(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=gr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}rh(function(){var u=i,h=Pl(r),d=[];e:{var f=Th.get(t);if(f!==void 0){var v=Il,p=t;switch(t){case"keypress":if(hi(r)===0)break e;case"keydown":case"keyup":v=qm;break;case"focusin":p="focus",v=Oa;break;case"focusout":p="blur",v=Oa;break;case"beforeblur":case"afterblur":v=Oa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gm;break;case Nh:case Ch:case Ph:v=$m;break;case Oh:v=Qm;break;case"scroll":v=Tm;break;case"wheel":v=Xm;break;case"copy":case"cut":case"paste":v=Dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Uu}var w=(e&4)!==0,_=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,g;m!==null;){g=m;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,y!==null&&(x=rs(m,y),x!=null&&w.push(us(m,x,g)))),_)break;m=m.return}0<w.length&&(f=new v(f,p,null,r,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==xo&&(p=r.relatedTarget||r.fromElement)&&(gr(p)||p[Pt]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(p=r.relatedTarget||r.toElement,v=u,p=p?gr(p):null,p!==null&&(_=Or(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(w=Iu,x="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Uu,x="onPointerLeave",y="onPointerEnter",m="pointer"),_=v==null?f:Jr(v),g=p==null?f:Jr(p),f=new w(x,m+"leave",v,r,h),f.target=_,f.relatedTarget=g,x=null,gr(h)===u&&(w=new w(y,m+"enter",p,r,h),w.target=g,w.relatedTarget=_,x=w),_=x,v&&p)t:{for(w=v,y=p,m=0,g=w;g;g=Lr(g))m++;for(g=0,x=y;x;x=Lr(x))g++;for(;0<m-g;)w=Lr(w),m--;for(;0<g-m;)y=Lr(y),g--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Lr(w),y=Lr(y)}w=null}else w=null;v!==null&&Gu(d,f,v,w,!1),p!==null&&_!==null&&Gu(d,_,p,w,!0)}}e:{if(f=u?Jr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=ig;else if(Fu(f))if(bh)S=ug;else{S=og;var k=ag}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=lg);if(S&&(S=S(t,u))){_h(d,S,r,h);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&mo(f,"number",f.value)}switch(k=u?Jr(u):window,t){case"focusin":(Fu(k)||k.contentEditable==="true")&&(Kr=k,No=u,qn=null);break;case"focusout":qn=No=Kr=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,qu(d,r,h);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":qu(d,r,h)}var E;if(Ul)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Hr?wh(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(yh&&r.locale!=="ko"&&(Hr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Hr&&(E=vh()):(zt=h,Ll="value"in zt?zt.value:zt.textContent,Hr=!0)),k=Ci(u,C),0<k.length&&(C=new $u(C,t,null,r,h),d.push({event:C,listeners:k}),E?C.data=E:(E=xh(r),E!==null&&(C.data=E)))),(E=eg?tg(t,r):rg(t,r))&&(u=Ci(u,"onBeforeInput"),0<u.length&&(h=new $u("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=E))}Rh(d,e)})}function us(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ci(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(t,r),i!=null&&n.unshift(us(t,i,s)),i=rs(t,e),i!=null&&n.push(us(t,i,s))),t=t.return}return n}function Lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gu(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=rs(r,i),l!=null&&a.unshift(us(r,l,o))):s||(l=rs(r,i),l!=null&&a.push(us(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var gg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Ju(t){return(typeof t=="string"?t:""+t).replace(gg,`
`).replace(vg,"")}function Ks(t,e,r){if(e=Ju(e),Ju(t)!==e&&r)throw Error(j(425))}function Pi(){}var Po=null,Oo=null;function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(t){return Qu.resolve(null).then(t).catch(xg)}:Ro;function xg(t){setTimeout(function(){throw t})}function Da(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),is(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(e)}function Kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _n=Math.random().toString(36).slice(2),vt="__reactFiber$"+_n,cs="__reactProps$"+_n,Pt="__reactContainer$"+_n,Ao="__reactEvents$"+_n,_g="__reactListeners$"+_n,bg="__reactHandles$"+_n;function gr(t){var e=t[vt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pt]||r[vt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yu(t);t!==null;){if(r=t[vt])return r;t=Yu(t)}return e}t=r,r=t.parentNode}return null}function Os(t){return t=t[vt]||t[Pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function ia(t){return t[cs]||null}var Lo=[],Qr=-1;function nr(t){return{current:t}}function Y(t){0>Qr||(t.current=Lo[Qr],Lo[Qr]=null,Qr--)}function J(t,e){Qr++,Lo[Qr]=t.current,t.current=e}var er={},Pe=nr(er),Ue=nr(!1),Sr=er;function hn(t,e){var r=t.type.contextTypes;if(!r)return er;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function De(t){return t=t.childContextTypes,t!=null}function Oi(){Y(Ue),Y(Pe)}function Xu(t,e,r){if(Pe.current!==er)throw Error(j(168));J(Pe,e),J(Ue,r)}function Lh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,am(t)||"Unknown",s));return te({},r,n)}function Ti(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,Sr=Pe.current,J(Pe,t),J(Ue,Ue.current),!0}function Zu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=Lh(t,e,Sr),n.__reactInternalMemoizedMergedChildContext=t,Y(Ue),Y(Pe),J(Pe,t)):Y(Ue),J(Ue,r)}var kt=null,aa=!1,Ma=!1;function Ih(t){kt===null?kt=[t]:kt.push(t)}function Sg(t){aa=!0,Ih(t)}function sr(){if(!Ma&&kt!==null){Ma=!0;var t=0,e=V;try{var r=kt;for(V=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}kt=null,aa=!1}catch(s){throw kt!==null&&(kt=kt.slice(t+1)),ah(Ol,sr),s}finally{V=e,Ma=!1}}return null}var Yr=[],Xr=0,Ri=null,Ai=0,Je=[],Qe=0,kr=null,jt=1,Et="";function cr(t,e){Yr[Xr++]=Ai,Yr[Xr++]=Ri,Ri=t,Ai=e}function $h(t,e,r){Je[Qe++]=jt,Je[Qe++]=Et,Je[Qe++]=kr,kr=t;var n=jt;t=Et;var s=32-ut(n)-1;n&=~(1<<s),r+=1;var i=32-ut(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jt=1<<32-ut(e)+s|r<<s|n,Et=i+t}else jt=1<<i|r<<s|n,Et=t}function Ml(t){t.return!==null&&(cr(t,1),$h(t,1,0))}function Fl(t){for(;t===Ri;)Ri=Yr[--Xr],Yr[Xr]=null,Ai=Yr[--Xr],Yr[Xr]=null;for(;t===kr;)kr=Je[--Qe],Je[Qe]=null,Et=Je[--Qe],Je[Qe]=null,jt=Je[--Qe],Je[Qe]=null}var qe=null,We=null,X=!1,lt=null;function Uh(t,e){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ec(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qe=t,We=Kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qe=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kr!==null?{id:jt,overflow:Et}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qe=t,We=null,!0):!1;default:return!1}}function Io(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(X){var e=We;if(e){var r=e;if(!ec(t,e)){if(Io(t))throw Error(j(418));e=Kt(r.nextSibling);var n=qe;e&&ec(t,e)?Uh(n,r):(t.flags=t.flags&-4097|2,X=!1,qe=t)}}else{if(Io(t))throw Error(j(418));t.flags=t.flags&-4097|2,X=!1,qe=t}}}function tc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qe=t}function Gs(t){if(t!==qe)return!1;if(!X)return tc(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!To(t.type,t.memoizedProps)),e&&(e=We)){if(Io(t))throw Dh(),Error(j(418));for(;e;)Uh(t,e),e=Kt(e.nextSibling)}if(tc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){We=Kt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}We=null}}else We=qe?Kt(t.stateNode.nextSibling):null;return!0}function Dh(){for(var t=We;t;)t=Kt(t.nextSibling)}function fn(){We=qe=null,X=!1}function zl(t){lt===null?lt=[t]:lt.push(t)}var kg=Rt.ReactCurrentBatchConfig;function Pn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Js(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rc(t){var e=t._init;return e(t._payload)}function Mh(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Yt(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,m,g,x){return m===null||m.tag!==6?(m=Ha(g,y.mode,x),m.return=y,m):(m=s(m,g),m.return=y,m)}function l(y,m,g,x){var S=g.type;return S===qr?h(y,m,g.props.children,x,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&rc(S)===m.type)?(x=s(m,g.props),x.ref=Pn(y,m,g),x.return=y,x):(x=wi(g.type,g.key,g.props,null,y.mode,x),x.ref=Pn(y,m,g),x.return=y,x)}function u(y,m,g,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ka(g,y.mode,x),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function h(y,m,g,x,S){return m===null||m.tag!==7?(m=_r(g,y.mode,x,S),m.return=y,m):(m=s(m,g),m.return=y,m)}function d(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ha(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ds:return g=wi(m.type,m.key,m.props,null,y.mode,g),g.ref=Pn(y,null,m),g.return=y,g;case Vr:return m=Ka(m,y.mode,g),m.return=y,m;case It:var x=m._init;return d(y,x(m._payload),g)}if($n(m)||kn(m))return m=_r(m,y.mode,g,null),m.return=y,m;Js(y,m)}return null}function f(y,m,g,x){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(y,m,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ds:return g.key===S?l(y,m,g,x):null;case Vr:return g.key===S?u(y,m,g,x):null;case It:return S=g._init,f(y,m,S(g._payload),x)}if($n(g)||kn(g))return S!==null?null:h(y,m,g,x,null);Js(y,g)}return null}function v(y,m,g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(g)||null,o(m,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ds:return y=y.get(x.key===null?g:x.key)||null,l(m,y,x,S);case Vr:return y=y.get(x.key===null?g:x.key)||null,u(m,y,x,S);case It:var k=x._init;return v(y,m,g,k(x._payload),S)}if($n(x)||kn(x))return y=y.get(g)||null,h(m,y,x,S,null);Js(m,x)}return null}function p(y,m,g,x){for(var S=null,k=null,E=m,C=m=0,L=null;E!==null&&C<g.length;C++){E.index>C?(L=E,E=null):L=E.sibling;var T=f(y,E,g[C],x);if(T===null){E===null&&(E=L);break}t&&E&&T.alternate===null&&e(y,E),m=i(T,m,C),k===null?S=T:k.sibling=T,k=T,E=L}if(C===g.length)return r(y,E),X&&cr(y,C),S;if(E===null){for(;C<g.length;C++)E=d(y,g[C],x),E!==null&&(m=i(E,m,C),k===null?S=E:k.sibling=E,k=E);return X&&cr(y,C),S}for(E=n(y,E);C<g.length;C++)L=v(E,y,C,g[C],x),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?C:L.key),m=i(L,m,C),k===null?S=L:k.sibling=L,k=L);return t&&E.forEach(function(Se){return e(y,Se)}),X&&cr(y,C),S}function w(y,m,g,x){var S=kn(g);if(typeof S!="function")throw Error(j(150));if(g=S.call(g),g==null)throw Error(j(151));for(var k=S=null,E=m,C=m=0,L=null,T=g.next();E!==null&&!T.done;C++,T=g.next()){E.index>C?(L=E,E=null):L=E.sibling;var Se=f(y,E,T.value,x);if(Se===null){E===null&&(E=L);break}t&&E&&Se.alternate===null&&e(y,E),m=i(Se,m,C),k===null?S=Se:k.sibling=Se,k=Se,E=L}if(T.done)return r(y,E),X&&cr(y,C),S;if(E===null){for(;!T.done;C++,T=g.next())T=d(y,T.value,x),T!==null&&(m=i(T,m,C),k===null?S=T:k.sibling=T,k=T);return X&&cr(y,C),S}for(E=n(y,E);!T.done;C++,T=g.next())T=v(E,y,C,T.value,x),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?C:T.key),m=i(T,m,C),k===null?S=T:k.sibling=T,k=T);return t&&E.forEach(function(B){return e(y,B)}),X&&cr(y,C),S}function _(y,m,g,x){if(typeof g=="object"&&g!==null&&g.type===qr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ds:e:{for(var S=g.key,k=m;k!==null;){if(k.key===S){if(S=g.type,S===qr){if(k.tag===7){r(y,k.sibling),m=s(k,g.props.children),m.return=y,y=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&rc(S)===k.type){r(y,k.sibling),m=s(k,g.props),m.ref=Pn(y,k,g),m.return=y,y=m;break e}r(y,k);break}else e(y,k);k=k.sibling}g.type===qr?(m=_r(g.props.children,y.mode,x,g.key),m.return=y,y=m):(x=wi(g.type,g.key,g.props,null,y.mode,x),x.ref=Pn(y,m,g),x.return=y,y=x)}return a(y);case Vr:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=Ka(g,y.mode,x),m.return=y,y=m}return a(y);case It:return k=g._init,_(y,m,k(g._payload),x)}if($n(g))return p(y,m,g,x);if(kn(g))return w(y,m,g,x);Js(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,g),m.return=y,y=m):(r(y,m),m=Ha(g,y.mode,x),m.return=y,y=m),a(y)):r(y,m)}return _}var pn=Mh(!0),Fh=Mh(!1),Li=nr(null),Ii=null,Zr=null,Bl=null;function Wl(){Bl=Zr=Ii=null}function Vl(t){var e=Li.current;Y(Li),t._currentValue=e}function Uo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ln(t,e){Ii=t,Bl=Zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(Bl!==t)if(t={context:t,memoizedValue:e,next:null},Zr===null){if(Ii===null)throw Error(j(308));Zr=t,Ii.dependencies={lanes:0,firstContext:t}}else Zr=Zr.next=t;return e}var vr=null;function ql(t){vr===null?vr=[t]:vr.push(t)}function zh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ql(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ot(t,n)}function Ot(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $t=!1;function Hl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ot(t,r)}return s=n.interleaved,s===null?(e.next=e,ql(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ot(t,r)}function fi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}function nc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function $i(t,e,r,n){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,h=u=l=null,o=i;do{var f=o.lane,v=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,w=o;switch(f=e,v=r,w.tag){case 1:if(p=w.payload,typeof p=="function"){d=p.call(v,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,f=typeof p=="function"?p.call(v,d,f):p,f==null)break e;d=te({},d,f);break e;case 2:$t=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=v,l=d):h=h.next=v,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Er|=a,t.lanes=a,t.memoizedState=d}}function sc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Ts={},xt=nr(Ts),ds=nr(Ts),hs=nr(Ts);function yr(t){if(t===Ts)throw Error(j(174));return t}function Kl(t,e){switch(J(hs,e),J(ds,t),J(xt,Ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vo(e,t)}Y(xt),J(xt,e)}function mn(){Y(xt),Y(ds),Y(hs)}function Wh(t){yr(hs.current);var e=yr(xt.current),r=vo(e,t.type);e!==r&&(J(ds,t),J(xt,r))}function Gl(t){ds.current===t&&(Y(xt),Y(ds))}var Z=nr(0);function Ui(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fa=[];function Jl(){for(var t=0;t<Fa.length;t++)Fa[t]._workInProgressVersionPrimary=null;Fa.length=0}var pi=Rt.ReactCurrentDispatcher,za=Rt.ReactCurrentBatchConfig,jr=0,ee=null,he=null,pe=null,Di=!1,Hn=!1,fs=0,jg=0;function je(){throw Error(j(321))}function Ql(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dt(t[r],e[r]))return!1;return!0}function Yl(t,e,r,n,s,i){if(jr=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pi.current=t===null||t.memoizedState===null?Pg:Og,t=r(n,s),Hn){i=0;do{if(Hn=!1,fs=0,25<=i)throw Error(j(301));i+=1,pe=he=null,e.updateQueue=null,pi.current=Tg,t=r(n,s)}while(Hn)}if(pi.current=Mi,e=he!==null&&he.next!==null,jr=0,pe=he=ee=null,Di=!1,e)throw Error(j(300));return t}function Xl(){var t=fs!==0;return fs=0,t}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ee.memoizedState=pe=t:pe=pe.next=t,pe}function et(){if(he===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=pe===null?ee.memoizedState:pe.next;if(e!==null)pe=e,he=t;else{if(t===null)throw Error(j(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},pe===null?ee.memoizedState=pe=t:pe=pe.next=t}return pe}function ps(t,e){return typeof e=="function"?e(t):e}function Ba(t){var e=et(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var h=u.lane;if((jr&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,ee.lanes|=h,Er|=h}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,dt(n,e.memoizedState)||($e=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,Er|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wa(t){var e=et(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);dt(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Vh(){}function qh(t,e){var r=ee,n=et(),s=e(),i=!dt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,Zl(Gh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,ms(9,Kh.bind(null,r,n,s,e),void 0,null),me===null)throw Error(j(349));jr&30||Hh(r,e,s)}return s}function Hh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Kh(t,e,r,n){e.value=r,e.getSnapshot=n,Jh(e)&&Qh(t)}function Gh(t,e,r){return r(function(){Jh(e)&&Qh(t)})}function Jh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dt(t,r)}catch{return!0}}function Qh(t){var e=Ot(t,1);e!==null&&ct(e,t,1,-1)}function ic(t){var e=gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},e.queue=t,t=t.dispatch=Cg.bind(null,ee,t),[e.memoizedState,t]}function ms(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Yh(){return et().memoizedState}function mi(t,e,r,n){var s=gt();ee.flags|=t,s.memoizedState=ms(1|e,r,void 0,n===void 0?null:n)}function oa(t,e,r,n){var s=et();n=n===void 0?null:n;var i=void 0;if(he!==null){var a=he.memoizedState;if(i=a.destroy,n!==null&&Ql(n,a.deps)){s.memoizedState=ms(e,r,i,n);return}}ee.flags|=t,s.memoizedState=ms(1|e,r,i,n)}function ac(t,e){return mi(8390656,8,t,e)}function Zl(t,e){return oa(2048,8,t,e)}function Xh(t,e){return oa(4,2,t,e)}function Zh(t,e){return oa(4,4,t,e)}function ef(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tf(t,e,r){return r=r!=null?r.concat([t]):null,oa(4,4,ef.bind(null,e,t),r)}function eu(){}function rf(t,e){var r=et();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ql(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function nf(t,e){var r=et();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ql(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sf(t,e,r){return jr&21?(dt(r,e)||(r=uh(),ee.lanes|=r,Er|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=r)}function Eg(t,e){var r=V;V=r!==0&&4>r?r:4,t(!0);var n=za.transition;za.transition={};try{t(!1),e()}finally{V=r,za.transition=n}}function af(){return et().memoizedState}function Ng(t,e,r){var n=Qt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},of(t))lf(e,r);else if(r=zh(t,e,r,n),r!==null){var s=Re();ct(r,t,n,s),uf(r,e,n)}}function Cg(t,e,r){var n=Qt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(of(t))lf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,dt(o,a)){var l=e.interleaved;l===null?(s.next=s,ql(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=zh(t,e,s,n),r!==null&&(s=Re(),ct(r,t,n,s),uf(r,e,n))}}function of(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function lf(t,e){Hn=Di=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function uf(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}var Mi={readContext:Ze,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Pg={readContext:Ze,useCallback:function(t,e){return gt().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:ac,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,mi(4194308,4,ef.bind(null,e,t),r)},useLayoutEffect:function(t,e){return mi(4194308,4,t,e)},useInsertionEffect:function(t,e){return mi(4,2,t,e)},useMemo:function(t,e){var r=gt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=gt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Ng.bind(null,ee,t),[n.memoizedState,t]},useRef:function(t){var e=gt();return t={current:t},e.memoizedState=t},useState:ic,useDebugValue:eu,useDeferredValue:function(t){return gt().memoizedState=t},useTransition:function(){var t=ic(!1),e=t[0];return t=Eg.bind(null,t[1]),gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ee,s=gt();if(X){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),me===null)throw Error(j(349));jr&30||Hh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ac(Gh.bind(null,n,i,t),[t]),n.flags|=2048,ms(9,Kh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=gt(),e=me.identifierPrefix;if(X){var r=Et,n=jt;r=(n&~(1<<32-ut(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Og={readContext:Ze,useCallback:rf,useContext:Ze,useEffect:Zl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:nf,useReducer:Ba,useRef:Yh,useState:function(){return Ba(ps)},useDebugValue:eu,useDeferredValue:function(t){var e=et();return sf(e,he.memoizedState,t)},useTransition:function(){var t=Ba(ps)[0],e=et().memoizedState;return[t,e]},useMutableSource:Vh,useSyncExternalStore:qh,useId:af,unstable_isNewReconciler:!1},Tg={readContext:Ze,useCallback:rf,useContext:Ze,useEffect:Zl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:nf,useReducer:Wa,useRef:Yh,useState:function(){return Wa(ps)},useDebugValue:eu,useDeferredValue:function(t){var e=et();return he===null?e.memoizedState=t:sf(e,he.memoizedState,t)},useTransition:function(){var t=Wa(ps)[0],e=et().memoizedState;return[t,e]},useMutableSource:Vh,useSyncExternalStore:qh,useId:af,unstable_isNewReconciler:!1};function nt(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Do(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var la={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Re(),s=Qt(t),i=Nt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Gt(t,i,s),e!==null&&(ct(e,t,s,n),fi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Re(),s=Qt(t),i=Nt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gt(t,i,s),e!==null&&(ct(e,t,s,n),fi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Re(),n=Qt(t),s=Nt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gt(t,s,n),e!==null&&(ct(e,t,n,r),fi(e,t,n))}};function oc(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!os(r,n)||!os(s,i):!0}function cf(t,e,r){var n=!1,s=er,i=e.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(s=De(e)?Sr:Pe.current,n=e.contextTypes,i=(n=n!=null)?hn(t,s):er),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=la,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&la.enqueueReplaceState(e,e.state,null)}function Mo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Hl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ze(i):(i=De(e)?Sr:Pe.current,s.context=hn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Do(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&la.enqueueReplaceState(s,s.state,null),$i(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function gn(t,e){try{var r="",n=e;do r+=im(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Va(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Fo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Rg=typeof WeakMap=="function"?WeakMap:Map;function df(t,e,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zi||(zi=!0,Qo=n),Fo(t,e)},r}function hf(t,e,r){r=Nt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Fo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Fo(t,e),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function uc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Rg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Hg.bind(null,t,e,r),e.then(t,t))}function cc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Nt(-1,1),e.tag=2,Gt(r,e,1))),r.lanes|=1),t)}var Ag=Rt.ReactCurrentOwner,$e=!1;function Te(t,e,r,n){e.child=t===null?Fh(e,null,r,n):pn(e,t.child,r,n)}function hc(t,e,r,n,s){r=r.render;var i=e.ref;return ln(e,s),n=Yl(t,e,r,n,i,s),r=Xl(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(X&&r&&Ml(e),e.flags|=1,Te(t,e,n,s),e.child)}function fc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!lu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,ff(t,e,i,n,s)):(t=wi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(a,n)&&t.ref===e.ref)return Tt(t,e,s)}return e.flags|=1,t=Yt(i,n),t.ref=e.ref,t.return=e,e.child=t}function ff(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(os(i,n)&&t.ref===e.ref)if($e=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Tt(t,e,s)}return zo(t,e,r,n,s)}function pf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(tn,ze),ze|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(tn,ze),ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(tn,ze),ze|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(tn,ze),ze|=n;return Te(t,e,s,r),e.child}function mf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function zo(t,e,r,n,s){var i=De(r)?Sr:Pe.current;return i=hn(e,i),ln(e,s),r=Yl(t,e,r,n,i,s),n=Xl(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(X&&n&&Ml(e),e.flags|=1,Te(t,e,r,s),e.child)}function pc(t,e,r,n,s){if(De(r)){var i=!0;Ti(e)}else i=!1;if(ln(e,s),e.stateNode===null)gi(t,e),cf(e,r,n),Mo(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ze(u):(u=De(r)?Sr:Pe.current,u=hn(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&lc(e,a,n,u),$t=!1;var f=e.memoizedState;a.state=f,$i(e,n,a,s),l=e.memoizedState,o!==n||f!==l||Ue.current||$t?(typeof h=="function"&&(Do(e,r,h,n),l=e.memoizedState),(o=$t||oc(e,r,o,n,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Bh(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:nt(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ze(l):(l=De(r)?Sr:Pe.current,l=hn(e,l));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&lc(e,a,n,l),$t=!1,f=e.memoizedState,a.state=f,$i(e,n,a,s);var p=e.memoizedState;o!==d||f!==p||Ue.current||$t?(typeof v=="function"&&(Do(e,r,v,n),p=e.memoizedState),(u=$t||oc(e,r,u,n,f,p,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Bo(t,e,r,n,i,s)}function Bo(t,e,r,n,s,i){mf(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Zu(e,r,!1),Tt(t,e,i);n=e.stateNode,Ag.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=pn(e,t.child,null,i),e.child=pn(e,null,o,i)):Te(t,e,o,i),e.memoizedState=n.state,s&&Zu(e,r,!0),e.child}function gf(t){var e=t.stateNode;e.pendingContext?Xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xu(t,e.context,!1),Kl(t,e.containerInfo)}function mc(t,e,r,n,s){return fn(),zl(s),e.flags|=256,Te(t,e,r,n),e.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Vo(t){return{baseLanes:t,cachePool:null,transitions:null}}function vf(t,e,r){var n=e.pendingProps,s=Z.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(Z,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=da(a,n,0,null),t=_r(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vo(r),e.memoizedState=Wo,t):tu(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Lg(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Yt(o,i):(i=_r(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Vo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Wo,n}return i=t.child,t=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tu(t,e){return e=da({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qs(t,e,r,n){return n!==null&&zl(n),pn(e,t.child,null,r),t=tu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lg(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Va(Error(j(422))),Qs(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=da({mode:"visible",children:n.children},s,0,null),i=_r(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&pn(e,t.child,null,a),e.child.memoizedState=Vo(a),e.memoizedState=Wo,i);if(!(e.mode&1))return Qs(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(j(419)),n=Va(i,n,void 0),Qs(t,e,a,n)}if(o=(a&t.childLanes)!==0,$e||o){if(n=me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ot(t,s),ct(n,t,s,-1))}return ou(),n=Va(Error(j(421))),Qs(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,We=Kt(s.nextSibling),qe=e,X=!0,lt=null,t!==null&&(Je[Qe++]=jt,Je[Qe++]=Et,Je[Qe++]=kr,jt=t.id,Et=t.overflow,kr=e),e=tu(e,n.children),e.flags|=4096,e)}function gc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Uo(t.return,e,r)}function qa(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function yf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Te(t,e,n.children,r),n=Z.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gc(t,r,e);else if(t.tag===19)gc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(Z,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ui(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),qa(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ui(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}qa(e,!0,r,null,i);break;case"together":qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Er|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Yt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ig(t,e,r){switch(e.tag){case 3:gf(e),fn();break;case 5:Wh(e);break;case 1:De(e.type)&&Ti(e);break;case 4:Kl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(Li,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(Z,Z.current&1),e.flags|=128,null):r&e.child.childLanes?vf(t,e,r):(J(Z,Z.current&1),t=Tt(t,e,r),t!==null?t.sibling:null);J(Z,Z.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return yf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(Z,Z.current),n)break;return null;case 22:case 23:return e.lanes=0,pf(t,e,r)}return Tt(t,e,r)}var wf,qo,xf,_f;wf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qo=function(){};xf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,yr(xt.current);var i=null;switch(r){case"input":s=fo(t,s),n=fo(t,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=go(t,s),n=go(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pi)}yo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_f=function(t,e,r,n){r!==n&&(e.flags|=4)};function On(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $g(t,e,r){var n=e.pendingProps;switch(Fl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return De(e.type)&&Oi(),Ee(e),null;case 3:return n=e.stateNode,mn(),Y(Ue),Y(Pe),Jl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(Zo(lt),lt=null))),qo(t,e),Ee(e),null;case 5:Gl(e);var s=yr(hs.current);if(r=e.type,t!==null&&e.stateNode!=null)xf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return Ee(e),null}if(t=yr(xt.current),Gs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[vt]=e,n[cs]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Dn.length;s++)Q(Dn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":ju(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":Nu(n,i),Q("invalid",n)}yo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,o,t),s=["children",""+o]):es.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Q("scroll",n)}switch(r){case"input":Ms(n),Eu(n,i,!0);break;case"textarea":Ms(n),Cu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[vt]=e,t[cs]=n,wf(t,e,!1,!1),e.stateNode=t;e:{switch(a=wo(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<Dn.length;s++)Q(Dn[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":ju(t,n),s=fo(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),Q("invalid",t);break;case"textarea":Nu(t,n),s=go(t,n),Q("invalid",t);break;default:s=n}yo(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Yd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jd(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ts(t,l):typeof l=="number"&&ts(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&jl(t,i,l,a))}switch(r){case"input":Ms(t),Eu(t,n,!1);break;case"textarea":Ms(t),Cu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?nn(t,!!n.multiple,i,!1):n.defaultValue!=null&&nn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)_f(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=yr(hs.current),yr(xt.current),Gs(e)){if(n=e.stateNode,r=e.memoizedProps,n[vt]=e,(i=n.nodeValue!==r)&&(t=qe,t!==null))switch(t.tag){case 3:Ks(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ks(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=e,e.stateNode=n}return Ee(e),null;case 13:if(Y(Z),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&We!==null&&e.mode&1&&!(e.flags&128))Dh(),fn(),e.flags|=98560,i=!1;else if(i=Gs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[vt]=e}else fn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else lt!==null&&(Zo(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?fe===0&&(fe=3):ou())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return mn(),qo(t,e),t===null&&ls(e.stateNode.containerInfo),Ee(e),null;case 10:return Vl(e.type._context),Ee(e),null;case 17:return De(e.type)&&Oi(),Ee(e),null;case 19:if(Y(Z),i=e.memoizedState,i===null)return Ee(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)On(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ui(t),a!==null){for(e.flags|=128,On(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>vn&&(e.flags|=128,n=!0,On(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ui(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!X)return Ee(e),null}else 2*ae()-i.renderingStartTime>vn&&r!==1073741824&&(e.flags|=128,n=!0,On(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=Z.current,J(Z,n?r&1|2:r&1),e):(Ee(e),null);case 22:case 23:return au(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ze&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Ug(t,e){switch(Fl(e),e.tag){case 1:return De(e.type)&&Oi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mn(),Y(Ue),Y(Pe),Jl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gl(e),null;case 13:if(Y(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));fn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(Z),null;case 4:return mn(),null;case 10:return Vl(e.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Ys=!1,Ce=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,P=null;function en(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(t,e,n)}else r.current=null}function Ho(t,e,r){try{r()}catch(n){se(t,e,n)}}var vc=!1;function Mg(t,e){if(Po=Ei,t=jh(),Dl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===r&&++u===s&&(o=a),f===i&&++h===n&&(l=a),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:t,selectionRange:r},Ei=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,_=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:nt(e.type,w),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){se(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return p=vc,vc=!1,p}function Kn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ho(e,r,i)}s=s.next}while(s!==n)}}function ua(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ko(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bf(t){var e=t.alternate;e!==null&&(t.alternate=null,bf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[cs],delete e[Ao],delete e[_g],delete e[bg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sf(t){return t.tag===5||t.tag===3||t.tag===4}function yc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Go(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pi));else if(n!==4&&(t=t.child,t!==null))for(Go(t,e,r),t=t.sibling;t!==null;)Go(t,e,r),t=t.sibling}function Jo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Jo(t,e,r),t=t.sibling;t!==null;)Jo(t,e,r),t=t.sibling}var we=null,it=!1;function Lt(t,e,r){for(r=r.child;r!==null;)kf(t,e,r),r=r.sibling}function kf(t,e,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ta,r)}catch{}switch(r.tag){case 5:Ce||en(r,e);case 6:var n=we,s=it;we=null,Lt(t,e,r),we=n,it=s,we!==null&&(it?(t=we,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(it?(t=we,r=r.stateNode,t.nodeType===8?Da(t.parentNode,r):t.nodeType===1&&Da(t,r),is(t)):Da(we,r.stateNode));break;case 4:n=we,s=it,we=r.stateNode.containerInfo,it=!0,Lt(t,e,r),we=n,it=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ho(r,e,a),s=s.next}while(s!==n)}Lt(t,e,r);break;case 1:if(!Ce&&(en(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){se(r,e,o)}Lt(t,e,r);break;case 21:Lt(t,e,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Lt(t,e,r),Ce=n):Lt(t,e,r);break;default:Lt(t,e,r)}}function wc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dg),e.forEach(function(n){var s=Gg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:we=o.stateNode,it=!1;break e;case 3:we=o.stateNode.containerInfo,it=!0;break e;case 4:we=o.stateNode.containerInfo,it=!0;break e}o=o.return}if(we===null)throw Error(j(160));kf(i,a,s),we=null,it=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jf(e,t),e=e.sibling}function jf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),mt(t),n&4){try{Kn(3,t,t.return),ua(3,t)}catch(w){se(t,t.return,w)}try{Kn(5,t,t.return)}catch(w){se(t,t.return,w)}}break;case 1:tt(e,t),mt(t),n&512&&r!==null&&en(r,r.return);break;case 5:if(tt(e,t),mt(t),n&512&&r!==null&&en(r,r.return),t.flags&32){var s=t.stateNode;try{ts(s,"")}catch(w){se(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Hd(s,i),wo(o,a);var u=wo(o,i);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?Yd(s,d):h==="dangerouslySetInnerHTML"?Jd(s,d):h==="children"?ts(s,d):jl(s,h,d,u)}switch(o){case"input":po(s,i);break;case"textarea":Kd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?nn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?nn(s,!!i.multiple,i.defaultValue,!0):nn(s,!!i.multiple,i.multiple?[]:"",!1))}s[cs]=i}catch(w){se(t,t.return,w)}}break;case 6:if(tt(e,t),mt(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){se(t,t.return,w)}}break;case 3:if(tt(e,t),mt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(w){se(t,t.return,w)}break;case 4:tt(e,t),mt(t);break;case 13:tt(e,t),mt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(su=ae())),n&4&&wc(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ce=(u=Ce)||h,tt(e,t),Ce=u):tt(e,t),mt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(P=t,h=t.child;h!==null;){for(d=P=h;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:Kn(4,f,f.return);break;case 1:en(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(w){se(n,r,w)}}break;case 5:en(f,f.return);break;case 22:if(f.memoizedState!==null){_c(d);continue}}v!==null?(v.return=f,P=v):_c(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Qd("display",a))}catch(w){se(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){se(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tt(e,t),mt(t),n&4&&wc(t);break;case 21:break;default:tt(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Sf(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=yc(t);Jo(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=yc(t);Go(t,o,a);break;default:throw Error(j(161))}}catch(l){se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fg(t,e,r){P=t,Ef(t)}function Ef(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ys;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ce;o=Ys;var u=Ce;if(Ys=a,(Ce=l)&&!u)for(P=s;P!==null;)a=P,l=a.child,a.tag===22&&a.memoizedState!==null?bc(s):l!==null?(l.return=a,P=l):bc(s);for(;i!==null;)P=i,Ef(i),i=i.sibling;P=s,Ys=o,Ce=u}xc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):xc(t)}}function xc(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||ua(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:nt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sc(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sc(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&is(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Ce||e.flags&512&&Ko(e)}catch(f){se(e,e.return,f)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function _c(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function bc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ua(4,e)}catch(l){se(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){se(e,s,l)}}var i=e.return;try{Ko(e)}catch(l){se(e,i,l)}break;case 5:var a=e.return;try{Ko(e)}catch(l){se(e,a,l)}}}catch(l){se(e,e.return,l)}if(e===t){P=null;break}var o=e.sibling;if(o!==null){o.return=e.return,P=o;break}P=e.return}}var zg=Math.ceil,Fi=Rt.ReactCurrentDispatcher,ru=Rt.ReactCurrentOwner,Xe=Rt.ReactCurrentBatchConfig,W=0,me=null,le=null,_e=0,ze=0,tn=nr(0),fe=0,gs=null,Er=0,ca=0,nu=0,Gn=null,Ie=null,su=0,vn=1/0,bt=null,zi=!1,Qo=null,Jt=null,Xs=!1,Bt=null,Bi=0,Jn=0,Yo=null,vi=-1,yi=0;function Re(){return W&6?ae():vi!==-1?vi:vi=ae()}function Qt(t){return t.mode&1?W&2&&_e!==0?_e&-_e:kg.transition!==null?(yi===0&&(yi=uh()),yi):(t=V,t!==0||(t=window.event,t=t===void 0?16:gh(t.type)),t):1}function ct(t,e,r,n){if(50<Jn)throw Jn=0,Yo=null,Error(j(185));Cs(t,r,n),(!(W&2)||t!==me)&&(t===me&&(!(W&2)&&(ca|=r),fe===4&&Mt(t,_e)),Me(t,n),r===1&&W===0&&!(e.mode&1)&&(vn=ae()+500,aa&&sr()))}function Me(t,e){var r=t.callbackNode;km(t,e);var n=ji(t,t===me?_e:0);if(n===0)r!==null&&Tu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Tu(r),e===1)t.tag===0?Sg(Sc.bind(null,t)):Ih(Sc.bind(null,t)),wg(function(){!(W&6)&&sr()}),r=null;else{switch(ch(n)){case 1:r=Ol;break;case 4:r=oh;break;case 16:r=ki;break;case 536870912:r=lh;break;default:r=ki}r=Lf(r,Nf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Nf(t,e){if(vi=-1,yi=0,W&6)throw Error(j(327));var r=t.callbackNode;if(un()&&t.callbackNode!==r)return null;var n=ji(t,t===me?_e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wi(t,n);else{e=n;var s=W;W|=2;var i=Pf();(me!==t||_e!==e)&&(bt=null,vn=ae()+500,xr(t,e));do try{Vg();break}catch(o){Cf(t,o)}while(!0);Wl(),Fi.current=i,W=s,le!==null?e=0:(me=null,_e=0,e=fe)}if(e!==0){if(e===2&&(s=ko(t),s!==0&&(n=s,e=Xo(t,s))),e===1)throw r=gs,xr(t,0),Mt(t,n),Me(t,ae()),r;if(e===6)Mt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Bg(s)&&(e=Wi(t,n),e===2&&(i=ko(t),i!==0&&(n=i,e=Xo(t,i))),e===1))throw r=gs,xr(t,0),Mt(t,n),Me(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:dr(t,Ie,bt);break;case 3:if(Mt(t,n),(n&130023424)===n&&(e=su+500-ae(),10<e)){if(ji(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Re(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(dr.bind(null,t,Ie,bt),e);break}dr(t,Ie,bt);break;case 4:if(Mt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-ut(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zg(n/1960))-n,10<n){t.timeoutHandle=Ro(dr.bind(null,t,Ie,bt),n);break}dr(t,Ie,bt);break;case 5:dr(t,Ie,bt);break;default:throw Error(j(329))}}}return Me(t,ae()),t.callbackNode===r?Nf.bind(null,t):null}function Xo(t,e){var r=Gn;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=Wi(t,e),t!==2&&(e=Ie,Ie=r,e!==null&&Zo(e)),t}function Zo(t){Ie===null?Ie=t:Ie.push.apply(Ie,t)}function Bg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mt(t,e){for(e&=~nu,e&=~ca,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ut(e),n=1<<r;t[r]=-1,e&=~n}}function Sc(t){if(W&6)throw Error(j(327));un();var e=ji(t,0);if(!(e&1))return Me(t,ae()),null;var r=Wi(t,e);if(t.tag!==0&&r===2){var n=ko(t);n!==0&&(e=n,r=Xo(t,n))}if(r===1)throw r=gs,xr(t,0),Mt(t,e),Me(t,ae()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Ie,bt),Me(t,ae()),null}function iu(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(vn=ae()+500,aa&&sr())}}function Nr(t){Bt!==null&&Bt.tag===0&&!(W&6)&&un();var e=W;W|=1;var r=Xe.transition,n=V;try{if(Xe.transition=null,V=1,t)return t()}finally{V=n,Xe.transition=r,W=e,!(W&6)&&sr()}}function au(){ze=tn.current,Y(tn)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yg(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(Fl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oi();break;case 3:mn(),Y(Ue),Y(Pe),Jl();break;case 5:Gl(n);break;case 4:mn();break;case 13:Y(Z);break;case 19:Y(Z);break;case 10:Vl(n.type._context);break;case 22:case 23:au()}r=r.return}if(me=t,le=t=Yt(t.current,null),_e=ze=e,fe=0,gs=null,nu=ca=Er=0,Ie=Gn=null,vr!==null){for(e=0;e<vr.length;e++)if(r=vr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}vr=null}return t}function Cf(t,e){do{var r=le;try{if(Wl(),pi.current=Mi,Di){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Di=!1}if(jr=0,pe=he=ee=null,Hn=!1,fs=0,ru.current=null,r===null||r.return===null){fe=1,gs=e,le=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=_e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=cc(a);if(v!==null){v.flags&=-257,dc(v,a,o,i,e),v.mode&1&&uc(i,u,e),e=v,l=u;var p=e.updateQueue;if(p===null){var w=new Set;w.add(l),e.updateQueue=w}else p.add(l);break e}else{if(!(e&1)){uc(i,u,e),ou();break e}l=Error(j(426))}}else if(X&&o.mode&1){var _=cc(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dc(_,a,o,i,e),zl(gn(l,o));break e}}i=l=gn(l,o),fe!==4&&(fe=2),Gn===null?Gn=[i]:Gn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=df(i,l,e);nc(i,y);break e;case 1:o=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jt===null||!Jt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=hf(i,o,e);nc(i,x);break e}}i=i.return}while(i!==null)}Tf(r)}catch(S){e=S,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function Pf(){var t=Fi.current;return Fi.current=Mi,t===null?Mi:t}function ou(){(fe===0||fe===3||fe===2)&&(fe=4),me===null||!(Er&268435455)&&!(ca&268435455)||Mt(me,_e)}function Wi(t,e){var r=W;W|=2;var n=Pf();(me!==t||_e!==e)&&(bt=null,xr(t,e));do try{Wg();break}catch(s){Cf(t,s)}while(!0);if(Wl(),W=r,Fi.current=n,le!==null)throw Error(j(261));return me=null,_e=0,fe}function Wg(){for(;le!==null;)Of(le)}function Vg(){for(;le!==null&&!mm();)Of(le)}function Of(t){var e=Af(t.alternate,t,ze);t.memoizedProps=t.pendingProps,e===null?Tf(t):le=e,ru.current=null}function Tf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ug(r,e),r!==null){r.flags&=32767,le=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,le=null;return}}else if(r=$g(r,e,ze),r!==null){le=r;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);fe===0&&(fe=5)}function dr(t,e,r){var n=V,s=Xe.transition;try{Xe.transition=null,V=1,qg(t,e,r,n)}finally{Xe.transition=s,V=n}return null}function qg(t,e,r,n){do un();while(Bt!==null);if(W&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(jm(t,i),t===me&&(le=me=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xs||(Xs=!0,Lf(ki,function(){return un(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var a=V;V=1;var o=W;W|=4,ru.current=null,Mg(t,r),jf(r,t),dg(Oo),Ei=!!Po,Oo=Po=null,t.current=r,Fg(r),gm(),W=o,V=a,Xe.transition=i}else t.current=r;if(Xs&&(Xs=!1,Bt=t,Bi=s),i=t.pendingLanes,i===0&&(Jt=null),wm(r.stateNode),Me(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zi)throw zi=!1,t=Qo,Qo=null,t;return Bi&1&&t.tag!==0&&un(),i=t.pendingLanes,i&1?t===Yo?Jn++:(Jn=0,Yo=t):Jn=0,sr(),null}function un(){if(Bt!==null){var t=ch(Bi),e=Xe.transition,r=V;try{if(Xe.transition=null,V=16>t?16:t,Bt===null)var n=!1;else{if(t=Bt,Bt=null,Bi=0,W&6)throw Error(j(331));var s=W;for(W|=4,P=t.current;P!==null;){var i=P,a=i.child;if(P.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Kn(8,h,i)}var d=h.child;if(d!==null)d.return=h,P=d;else for(;P!==null;){h=P;var f=h.sibling,v=h.return;if(bf(h),h===u){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,P=a;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,P=y;break e}P=i.return}}var m=t.current;for(P=m;P!==null;){a=P;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,P=g;else e:for(a=m;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ua(9,o)}}catch(S){se(o,o.return,S)}if(o===a){P=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,P=x;break e}P=o.return}}if(W=s,sr(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ta,t)}catch{}n=!0}return n}finally{V=r,Xe.transition=e}}return!1}function kc(t,e,r){e=gn(r,e),e=df(t,e,1),t=Gt(t,e,1),e=Re(),t!==null&&(Cs(t,1,e),Me(t,e))}function se(t,e,r){if(t.tag===3)kc(t,t,r);else for(;e!==null;){if(e.tag===3){kc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){t=gn(r,t),t=hf(e,t,1),e=Gt(e,t,1),t=Re(),e!==null&&(Cs(e,1,t),Me(e,t));break}}e=e.return}}function Hg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&r,me===t&&(_e&r)===r&&(fe===4||fe===3&&(_e&130023424)===_e&&500>ae()-su?xr(t,0):nu|=r),Me(t,e)}function Rf(t,e){e===0&&(t.mode&1?(e=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):e=1);var r=Re();t=Ot(t,e),t!==null&&(Cs(t,e,r),Me(t,r))}function Kg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Rf(t,r)}function Gg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),Rf(t,r)}var Af;Af=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)$e=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $e=!1,Ig(t,e,r);$e=!!(t.flags&131072)}else $e=!1,X&&e.flags&1048576&&$h(e,Ai,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gi(t,e),t=e.pendingProps;var s=hn(e,Pe.current);ln(e,r),s=Yl(null,e,n,t,s,r);var i=Xl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(n)?(i=!0,Ti(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hl(e),s.updater=la,e.stateNode=s,s._reactInternals=e,Mo(e,n,t,r),e=Bo(null,e,n,!0,i,r)):(e.tag=0,X&&i&&Ml(e),Te(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Qg(n),t=nt(n,t),s){case 0:e=zo(null,e,n,t,r);break e;case 1:e=pc(null,e,n,t,r);break e;case 11:e=hc(null,e,n,t,r);break e;case 14:e=fc(null,e,n,nt(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:nt(n,s),zo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:nt(n,s),pc(t,e,n,s,r);case 3:e:{if(gf(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Bh(t,e),$i(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gn(Error(j(423)),e),e=mc(t,e,n,r,s);break e}else if(n!==s){s=gn(Error(j(424)),e),e=mc(t,e,n,r,s);break e}else for(We=Kt(e.stateNode.containerInfo.firstChild),qe=e,X=!0,lt=null,r=Fh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fn(),n===s){e=Tt(t,e,r);break e}Te(t,e,n,r)}e=e.child}return e;case 5:return Wh(e),t===null&&$o(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,To(n,s)?a=null:i!==null&&To(n,i)&&(e.flags|=32),mf(t,e),Te(t,e,a,r),e.child;case 6:return t===null&&$o(e),null;case 13:return vf(t,e,r);case 4:return Kl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pn(e,null,n,r):Te(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:nt(n,s),hc(t,e,n,s,r);case 7:return Te(t,e,e.pendingProps,r),e.child;case 8:return Te(t,e,e.pendingProps.children,r),e.child;case 12:return Te(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,J(Li,n._currentValue),n._currentValue=a,i!==null)if(dt(i.value,a)){if(i.children===s.children&&!Ue.current){e=Tt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Nt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Uo(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Uo(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Te(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ln(e,r),s=Ze(s),n=n(s),e.flags|=1,Te(t,e,n,r),e.child;case 14:return n=e.type,s=nt(n,e.pendingProps),s=nt(n.type,s),fc(t,e,n,s,r);case 15:return ff(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:nt(n,s),gi(t,e),e.tag=1,De(n)?(t=!0,Ti(e)):t=!1,ln(e,r),cf(e,n,s),Mo(e,n,s,r),Bo(null,e,n,!0,t,r);case 19:return yf(t,e,r);case 22:return pf(t,e,r)}throw Error(j(156,e.tag))};function Lf(t,e){return ah(t,e)}function Jg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(t,e,r,n){return new Jg(t,e,r,n)}function lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qg(t){if(typeof t=="function")return lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nl)return 11;if(t===Cl)return 14}return 2}function Yt(t,e){var r=t.alternate;return r===null?(r=Ye(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wi(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")lu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qr:return _r(r.children,s,i,e);case El:a=8,s|=8;break;case lo:return t=Ye(12,r,e,s|2),t.elementType=lo,t.lanes=i,t;case uo:return t=Ye(13,r,e,s),t.elementType=uo,t.lanes=i,t;case co:return t=Ye(19,r,e,s),t.elementType=co,t.lanes=i,t;case Wd:return da(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zd:a=10;break e;case Bd:a=9;break e;case Nl:a=11;break e;case Cl:a=14;break e;case It:a=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ye(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function _r(t,e,r,n){return t=Ye(7,t,n,e),t.lanes=r,t}function da(t,e,r,n){return t=Ye(22,t,n,e),t.elementType=Wd,t.lanes=r,t.stateNode={isHidden:!1},t}function Ha(t,e,r){return t=Ye(6,t,null,e),t.lanes=r,t}function Ka(t,e,r){return e=Ye(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uu(t,e,r,n,s,i,a,o,l){return t=new Yg(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ye(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(i),t}function Xg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function If(t){if(!t)return er;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(De(r))return Lh(t,r,e)}return e}function $f(t,e,r,n,s,i,a,o,l){return t=uu(r,n,!0,t,s,i,a,o,l),t.context=If(null),r=t.current,n=Re(),s=Qt(r),i=Nt(n,s),i.callback=e??null,Gt(r,i,s),t.current.lanes=s,Cs(t,s,n),Me(t,n),t}function ha(t,e,r,n){var s=e.current,i=Re(),a=Qt(s);return r=If(r),e.context===null?e.context=r:e.pendingContext=r,e=Nt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gt(s,e,a),t!==null&&(ct(t,s,a,i),fi(t,s,a)),a}function Vi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cu(t,e){jc(t,e),(t=t.alternate)&&jc(t,e)}function Zg(){return null}var Uf=typeof reportError=="function"?reportError:function(t){console.error(t)};function du(t){this._internalRoot=t}fa.prototype.render=du.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));ha(t,e,null,null)};fa.prototype.unmount=du.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nr(function(){ha(null,t,null,null)}),e[Pt]=null}};function fa(t){this._internalRoot=t}fa.prototype.unstable_scheduleHydration=function(t){if(t){var e=fh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Dt.length&&e!==0&&e<Dt[r].priority;r++);Dt.splice(r,0,t),r===0&&mh(t)}};function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ec(){}function ev(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Vi(a);i.call(u)}}var a=$f(e,n,t,0,null,!1,!1,"",Ec);return t._reactRootContainer=a,t[Pt]=a.current,ls(t.nodeType===8?t.parentNode:t),Nr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Vi(l);o.call(u)}}var l=uu(t,0,!1,null,null,!1,!1,"",Ec);return t._reactRootContainer=l,t[Pt]=l.current,ls(t.nodeType===8?t.parentNode:t),Nr(function(){ha(e,l,r,n)}),l}function ma(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Vi(a);o.call(l)}}ha(e,a,t,s)}else a=ev(r,e,t,s,n);return Vi(a)}dh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Un(e.pendingLanes);r!==0&&(Tl(e,r|1),Me(e,ae()),!(W&6)&&(vn=ae()+500,sr()))}break;case 13:Nr(function(){var n=Ot(t,1);if(n!==null){var s=Re();ct(n,t,1,s)}}),cu(t,1)}};Rl=function(t){if(t.tag===13){var e=Ot(t,134217728);if(e!==null){var r=Re();ct(e,t,134217728,r)}cu(t,134217728)}};hh=function(t){if(t.tag===13){var e=Qt(t),r=Ot(t,e);if(r!==null){var n=Re();ct(r,t,e,n)}cu(t,e)}};fh=function(){return V};ph=function(t,e){var r=V;try{return V=t,e()}finally{V=r}};_o=function(t,e,r){switch(e){case"input":if(po(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ia(n);if(!s)throw Error(j(90));qd(n),po(n,s)}}}break;case"textarea":Kd(t,r);break;case"select":e=r.value,e!=null&&nn(t,!!r.multiple,e,!1)}};eh=iu;th=Nr;var tv={usingClientEntryPoint:!1,Events:[Os,Jr,ia,Xd,Zd,iu]},Tn={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rv={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sh(t),t===null?null:t.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||Zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{ta=Zs.inject(rv),wt=Zs}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tv;Ke.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(e))throw Error(j(200));return Xg(t,e,null,r)};Ke.createRoot=function(t,e){if(!hu(t))throw Error(j(299));var r=!1,n="",s=Uf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=uu(t,1,!1,null,null,r,!1,n,s),t[Pt]=e.current,ls(t.nodeType===8?t.parentNode:t),new du(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=sh(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return Nr(t)};Ke.hydrate=function(t,e,r){if(!pa(e))throw Error(j(200));return ma(null,t,e,!0,r)};Ke.hydrateRoot=function(t,e,r){if(!hu(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Uf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=$f(e,null,t,1,r??null,s,!1,i,a),t[Pt]=e.current,ls(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fa(e)};Ke.render=function(t,e,r){if(!pa(e))throw Error(j(200));return ma(null,t,e,!1,r)};Ke.unmountComponentAtNode=function(t){if(!pa(t))throw Error(j(40));return t._reactRootContainer?(Nr(function(){ma(null,null,t,!1,function(){t._reactRootContainer=null,t[Pt]=null})}),!0):!1};Ke.unstable_batchedUpdates=iu;Ke.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pa(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ma(t,e,r,!1,n)};Ke.version="18.3.1-next-f1338f8080-20240426";function Df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Df)}catch(t){console.error(t)}}Df(),Ud.exports=Ke;var nv=Ud.exports,Mf,Nc=nv;Mf=Nc.createRoot,Nc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vs.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const Cc="popstate";function sv(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return el("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qi(s)}return av(e,r,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iv(){return Math.random().toString(36).substr(2,8)}function Pc(t,e){return{usr:t.state,key:t.key,idx:e}}function el(t,e,r,n){return r===void 0&&(r=null),vs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bn(e):e,{state:r,key:e&&e.key||n||iv()})}function qi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function av(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Wt.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(vs({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=Wt.Pop;let _=h(),y=_==null?null:_-u;u=_,l&&l({action:o,location:w.location,delta:y})}function f(_,y){o=Wt.Push;let m=el(w.location,_,y);u=h()+1;let g=Pc(m,u),x=w.createHref(m);try{a.pushState(g,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:o,location:w.location,delta:1})}function v(_,y){o=Wt.Replace;let m=el(w.location,_,y);u=h();let g=Pc(m,u),x=w.createHref(m);a.replaceState(g,"",x),i&&l&&l({action:o,location:w.location,delta:0})}function p(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:qi(_);return m=m.replace(/ $/,"%20"),ue(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let w={get action(){return o},get location(){return t(s,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Cc,d),l=_,()=>{s.removeEventListener(Cc,d),l=null}},createHref(_){return e(s,_)},createURL:p,encodeLocation(_){let y=p(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:v,go(_){return a.go(_)}};return w}var Oc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oc||(Oc={}));function ov(t,e,r){return r===void 0&&(r="/"),lv(t,e,r)}function lv(t,e,r,n){let s=typeof e=="string"?bn(e):e,i=pu(s.pathname||"/",r);if(i==null)return null;let a=Ff(t);uv(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=_v(i);o=yv(a[l],u)}return o}function Ff(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Xt([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ff(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gv(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of zf(i.path))s(i,a,l)}),e}function zf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=zf(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function uv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cv=/^:[\w-]+$/,dv=3,hv=2,fv=1,pv=10,mv=-2,Tc=t=>t==="*";function gv(t,e){let r=t.split("/"),n=r.length;return r.some(Tc)&&(n+=mv),e&&(n+=hv),r.filter(s=>!Tc(s)).reduce((s,i)=>s+(cv.test(i)?dv:i===""?fv:pv),n)}function vv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function yv(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=wv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Xt([i,d.pathname]),pathnameBase:Ev(Xt([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Xt([i,d.pathnameBase]))}return a}function wv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xv(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let w=o[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const p=o[d];return v&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function xv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function _v(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=t=>bv.test(t);function kv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?bn(t):t,i;if(r)if(Sv(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),fu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Rc(r.substring(1),"/"):i=Rc(r,e)}else i=e;return{pathname:i,search:Nv(n),hash:Cv(s)}}function Rc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ga(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Bf(t,e){let r=jv(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wf(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=bn(t):(s=vs({},t),ue(!s.pathname||!s.pathname.includes("?"),Ga("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Ga("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Ga("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=kv(s,o),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Xt=t=>t.join("/").replace(/\/\/+/g,"/"),Ev=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vf=["post","put","patch","delete"];new Set(Vf);const Ov=["get",...Vf];new Set(Ov);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ys.apply(this,arguments)}const mu=b.createContext(null),Tv=b.createContext(null),Tr=b.createContext(null),ga=b.createContext(null),ir=b.createContext({outlet:null,matches:[],isDataRoute:!1}),qf=b.createContext(null);function Rv(t,e){let{relative:r}=e===void 0?{}:e;Rs()||ue(!1);let{basename:n,navigator:s}=b.useContext(Tr),{hash:i,pathname:a,search:o}=Gf(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Xt([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Rs(){return b.useContext(ga)!=null}function Rr(){return Rs()||ue(!1),b.useContext(ga).location}function Hf(t){b.useContext(Tr).static||b.useLayoutEffect(t)}function Kf(){let{isDataRoute:t}=b.useContext(ir);return t?Hv():Av()}function Av(){Rs()||ue(!1);let t=b.useContext(mu),{basename:e,future:r,navigator:n}=b.useContext(Tr),{matches:s}=b.useContext(ir),{pathname:i}=Rr(),a=JSON.stringify(Bf(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return Hf(()=>{o.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Wf(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xt([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}function Lv(){let{matches:t}=b.useContext(ir),e=t[t.length-1];return e?e.params:{}}function Gf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Tr),{matches:s}=b.useContext(ir),{pathname:i}=Rr(),a=JSON.stringify(Bf(s,n.v7_relativeSplatPath));return b.useMemo(()=>Wf(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Iv(t,e){return $v(t,e)}function $v(t,e,r,n){Rs()||ue(!1);let{navigator:s}=b.useContext(Tr),{matches:i}=b.useContext(ir),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Rr(),h;if(e){var d;let _=typeof e=="string"?bn(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ue(!1),h=_}else h=u;let f=h.pathname||"/",v=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=ov(t,{pathname:v}),w=zv(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Xt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Xt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?b.createElement(ga.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wt.Pop}},w):w}function Uv(){let t=qv(),e=Pv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const Dv=b.createElement(Uv,null);class Mv extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(ir.Provider,{value:this.props.routeContext},b.createElement(qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fv(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(mu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ir.Provider,{value:e},n)}function zv(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||ue(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:v}=r,p=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let v,p=!1,w=null,_=null;r&&(v=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||Dv,l&&(u<0&&f===0?(Kv("route-fallback"),p=!0,_=null):u===f&&(p=!0,_=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),m=()=>{let g;return v?g=w:p?g=_:d.route.Component?g=b.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=h,b.createElement(Fv,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(Mv,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Jf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jf||{}),Qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qf||{});function Bv(t){let e=b.useContext(mu);return e||ue(!1),e}function Wv(t){let e=b.useContext(Tv);return e||ue(!1),e}function Vv(t){let e=b.useContext(ir);return e||ue(!1),e}function Yf(t){let e=Vv(),r=e.matches[e.matches.length-1];return r.route.id||ue(!1),r.route.id}function qv(){var t;let e=b.useContext(qf),r=Wv(),n=Yf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Hv(){let{router:t}=Bv(Jf.UseNavigateStable),e=Yf(Qf.UseNavigateStable),r=b.useRef(!1);return Hf(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ys({fromRouteId:e},i)))},[t,e])}const Ac={};function Kv(t,e,r){Ac[t]||(Ac[t]=!0)}function Gv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _t(t){ue(!1)}function Jv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Wt.Pop,navigator:i,static:a=!1,future:o}=t;Rs()&&ue(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:ys({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=bn(n));let{pathname:h="/",search:d="",hash:f="",state:v=null,key:p="default"}=n,w=b.useMemo(()=>{let _=pu(h,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:v,key:p},navigationType:s}},[l,h,d,f,v,p,s]);return w==null?null:b.createElement(Tr.Provider,{value:u},b.createElement(ga.Provider,{children:r,value:w}))}function Qv(t){let{children:e,location:r}=t;return Iv(tl(e),r)}new Promise(()=>{});function tl(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,tl(n.props.children,i));return}n.type!==_t&&ue(!1),!n.props.index||!n.props.children||ue(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=tl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(this,arguments)}function Yv(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Xv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zv(t,e){return t.button===0&&(!e||e==="_self")&&!Xv(t)}function nl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ey(t,e){let r=nl(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const ty=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ry="6";try{window.__reactRouterVersion=ry}catch{}const ny="startTransition",Lc=Hp[ny];function sy(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=sv({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=b.useCallback(d=>{u&&Lc?Lc(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>a.listen(h),[a,h]),b.useEffect(()=>Gv(n),[n]),b.createElement(Jv,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:d}=e,f=Yv(e,ty),{basename:v}=b.useContext(Tr),p,w=!1;if(typeof u=="string"&&ay.test(u)&&(p=u,iy))try{let g=new URL(window.location.href),x=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=pu(x.pathname,v);x.origin===g.origin&&S!=null?u=S+x.search+x.hash:w=!0}catch{}let _=Rv(u,{relative:s}),y=oy(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:d});function m(g){n&&n(g),g.defaultPrevented||y(g)}return b.createElement("a",rl({},f,{href:p||_,onClick:w||i?n:m,ref:r,target:l}))});var Ic;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ic||(Ic={}));var $c;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($c||($c={}));function oy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Kf(),u=Rr(),h=Gf(t,{relative:a});return b.useCallback(d=>{if(Zv(d,r)){d.preventDefault();let f=n!==void 0?n:qi(u)===qi(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,h,n,s,r,t,i,a,o])}function ly(t){let e=b.useRef(nl(t)),r=b.useRef(!1),n=Rr(),s=b.useMemo(()=>ey(n.search,r.current?null:e.current),[n.search]),i=Kf(),a=b.useCallback((o,l)=>{const u=nl(typeof o=="function"?o(s):o);r.current=!0,i("?"+u,l)},[i,s]);return[s,a]}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>b.createElement("svg",{ref:h,...uy,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${cy(t)}`,o].join(" "),...u},[...e.map(([d,f])=>b.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Oe("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ep(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=ep(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function H(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=ep(t))&&(n&&(n+=" "),n+=e);return n}function ie({children:t,className:e,as:r="div"}){return c.jsx(r,{className:H("max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8",e),children:t})}const xy="inline-flex items-center justify-center gap-2 font-sans font-semibold rounded-full transition-all duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-champagne focus-visible:outline-offset-2 disabled:opacity-50 disabled:pointer-events-none",_y={primary:"bg-champagne text-charcoal hover:bg-champagne-dark hover:shadow-card-hover active:scale-[0.98]",secondary:"bg-charcoal text-ivory hover:bg-charcoal-soft active:scale-[0.98]",outline:"border-2 border-champagne text-champagne bg-transparent hover:bg-champagne hover:text-charcoal active:scale-[0.98]",ghost:"bg-transparent text-charcoal-soft hover:bg-warm-gray active:scale-[0.98]"},by={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},xe=b.forwardRef(({variant:t="primary",size:e="md",loading:r,className:n,children:s,...i},a)=>c.jsxs("button",{ref:a,className:H(xy,_y[t],by[e],n),disabled:r||i.disabled,...i,children:[r&&c.jsx("span",{className:"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),s]}));xe.displayName="Button";const Ve={name:"Shahed Storee",address:"Madina, Kingdom of Saudi Arabia",phone:"+966 50 000 0000",email:"hello@shahedstoree.sa"};`${new Date().getFullYear()}`;const tp="966500000000";function As(t){const e=encodeURIComponent(t);return`https://wa.me/${tp}?text=${e}`}function Sy(t){return`Hello Shahed Storee, I want to order: ${t.productName}. Material: ${t.material}. Variants: ${t.variants}. Please confirm delivery to: ${t.area}.`}function ky(t){return`Hello Shahed Storee!

Name: ${t.name}
Phone: ${t.phone}
Message: ${t.message}`}const Ls=`https://wa.me/${tp}`;function jy(t){b.useEffect(()=>{if(t){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%"}else{const e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",e&&window.scrollTo(0,parseInt(e)*-1)}return()=>{document.body.style.position="",document.body.style.top="",document.body.style.width=""}},[t])}const $=t=>typeof t=="string",Rn=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Uc=t=>t==null?"":""+t,Ey=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Ny=/###/g,Dc=t=>t&&t.indexOf("###")>-1?t.replace(Ny,"."):t,Mc=t=>!t||$(t),Qn=(t,e,r)=>{const n=$(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Mc(t))return{};const i=Dc(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Mc(t)?{}:{obj:t,k:Dc(n[s])}},Fc=(t,e,r)=>{const{obj:n,k:s}=Qn(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Qn(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Qn(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=r},Cy=(t,e,r,n)=>{const{obj:s,k:i}=Qn(t,e,Object);s[i]=s[i]||[],s[i].push(r)},Hi=(t,e)=>{const{obj:r,k:n}=Qn(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Py=(t,e,r)=>{const n=Hi(t,r);return n!==void 0?n:Hi(e,r)},rp=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?$(t[n])||t[n]instanceof String||$(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):rp(t[n],e[n],r):t[n]=e[n]);return t},or=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Oy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ty=t=>$(t)?t.replace(/[&<>"'\/]/g,e=>Oy[e]):t;class Ry{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Ay=[" ",",","?","!",";"],Ly=new Ry(20),Iy=(t,e,r)=>{e=e||"",r=r||"";const n=Ay.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=Ly.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},il=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<n.length;++l)if(l!==i&&(o+=r),o+=n[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;i+=l-i+1;break}s=a}return s},ws=t=>t==null?void 0:t.replace("_","-"),$y={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class Ki{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||$y,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:($(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Ki(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ki(this.logger,e)}}var yt=new Ki;class va{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}}class zc extends va{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var u,h;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):$(n)&&i?o.push(...n.split(i)):o.push(n)));const l=Hi(this.data,o);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),l||!a||!$(n)?l:il((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[r],n,i)}addResource(e,r,n,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),s=r,r=o[1]),this.addNamespaces(r),Fc(this.data,o,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const i in n)($(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),s=n,n=r,r=o[1]),this.addNamespaces(r);let l=Hi(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?rp(l,n,i):l={...l,...n},Fc(this.data,o,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var np={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,r,n,s))??e}),e}};const sp=Symbol("i18next/PATH_KEY");function Uy(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),s===sp?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function al(t,e){const{[sp]:r}=t(Uy());return r.join((e==null?void 0:e.keySeparator)??".")}const Bc={},Ja=t=>!$(t)&&typeof t!="boolean"&&typeof t!="number";class Gi extends va{constructor(e,r={}){super(),Ey(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const i=Ja(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Iy(e,n,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:$(i)?[i]:i};const u=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:$(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=al(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),u=l[l.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const d=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?i?{res:`${u}${h}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${h}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:o;const v=this.resolve(e,s);let p=v==null?void 0:v.res;const w=(v==null?void 0:v.usedKey)||o,_=(v==null?void 0:v.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],m=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,x=s.count!==void 0&&!$(s.count),S=Gi.hasDefaultValue(s),k=x?this.pluralResolver.getSuffix(d,s.count,s):"",E=s.ordinal&&x?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",C=x&&!s.ordinal&&s.count===0,L=C&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${k}`]||s[`defaultValue${E}`]||s.defaultValue;let T=p;g&&!p&&S&&(T=L);const Se=Ja(T),B=Object.prototype.toString.apply(T);if(g&&T&&Se&&y.indexOf(B)<0&&!($(m)&&Array.isArray(T))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,T,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(v.res=D,v.usedParams=this.getUsedParamsDetails(s),v):D}if(a){const D=Array.isArray(T),z=D?[]:{},re=D?_:w;for(const ce in T)if(Object.prototype.hasOwnProperty.call(T,ce)){const ke=`${re}${a}${ce}`;S&&!p?z[ce]=this.translate(ke,{...s,defaultValue:Ja(L)?L[ce]:void 0,joinArrays:!1,ns:l}):z[ce]=this.translate(ke,{...s,joinArrays:!1,ns:l}),z[ce]===ke&&(z[ce]=T[ce])}p=z}}else if(g&&$(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,e,s,n));else{let D=!1,z=!1;!this.isValidLookup(p)&&S&&(D=!0,p=L),this.isValidLookup(p)||(z=!0,p=o);const ce=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:p,ke=S&&L!==p&&this.options.updateMissing;if(z||D||ke){if(this.logger.log(ke?"updateKey":"missingKey",d,u,o,ke?L:p),a){const F=this.resolve(o,{...s,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let F=0;F<I.length;F++)N.push(I[F]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(s.lng||this.language):N.push(s.lng||this.language);const U=(F,K,ft)=>{var Ar;const pt=S&&ft!==p?ft:ce;this.options.missingKeyHandler?this.options.missingKeyHandler(F,u,K,pt,ke,s):(Ar=this.backendConnector)!=null&&Ar.saveMissing&&this.backendConnector.saveMissing(F,u,K,pt,ke,s),this.emit("missingKey",F,u,K,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?N.forEach(F=>{const K=this.pluralResolver.getSuffixes(F,s);C&&s[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(ft=>{U([F],o+ft,s[`defaultValue${ft}`]||L)})}):U(N,o,L))}p=this.extendTranslation(p,e,s,v,n),z&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${u}${h}${o}`),(z||D)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${o}`:o,D?p:void 0,s))}return i?(v.res=p,v.usedParams=this.getUsedParamsDetails(s),v):p}extendTranslation(e,r,n,s,i){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=$(e)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const v=e.match(this.interpolator.nestingRegexp);d=v&&v.length}let f=n.replace&&!$(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||s.usedLng,n),h){const v=e.match(this.interpolator.nestingRegexp),p=v&&v.length;d<p&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>(i==null?void 0:i[0])===v[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${r[0]}`),null):this.translate(...v,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,o=$(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&n.applyPostProcessor!==!1&&(e=np.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,o;return $(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),h=u.key;s=h;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=r.count!==void 0&&!$(r.count),v=f&&!r.ordinal&&r.count===0,p=r.context!==void 0&&($(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(_=>{var y,m;this.isValidLookup(n)||(o=_,!Bc[`${w[0]}-${_}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(o))&&(Bc[`${w[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(g=>{var k;if(this.isValidLookup(n))return;a=g;const x=[h];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(x,h,g,_,r);else{let E;f&&(E=this.pluralResolver.getSuffix(g,r.count,r));const C=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&E.indexOf(L)===0&&x.push(h+E.replace(L,this.options.pluralSeparator)),x.push(h+E),v&&x.push(h+C)),p){const T=`${h}${this.options.contextSeparator||"_"}${r.context}`;x.push(T),f&&(r.ordinal&&E.indexOf(L)===0&&x.push(T+E.replace(L,this.options.pluralSeparator)),x.push(T+E),v&&x.push(T+C))}}let S;for(;S=x.pop();)this.isValidLookup(n)||(i=S,n=this.getResource(g,_,S,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!$(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Wc{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yt.create("languageUtils")}getScriptPartFromCode(e){if(e=ws(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=ws(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if($(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),$(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return $(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):$(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const Vc={zero:0,one:1,two:2,few:3,many:4,other:5},qc={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Dy{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=yt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=ws(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),qc;if(!e.match(/-|_/))return qc;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>Vc[s]-Vc[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Hc=(t,e,r,n=".",s=!0)=>{let i=Py(t,e,r);return!i&&s&&$(r)&&(i=il(t,r,n),i===void 0&&(i=il(e,r,n))),i},Qa=t=>t.replace(/\$/g,"$$$$");class Kc{constructor(e={}){var r;this.logger=yt.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:v,nestingSuffix:p,nestingSuffixEscaped:w,nestingOptionsSeparator:_,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=r!==void 0?r:Ty,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?or(i):a||"{{",this.suffix=o?or(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?or(f):v||or("$t("),this.nestingSuffix=p?or(p):w||or(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var v;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const m=Hc(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,n,{...s,...r,interpolationkey:p}):m}const w=p.split(this.formatSeparator),_=w.shift().trim(),y=w.join(this.formatSeparator).trim();return this.format(Hc(r,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...s,...r,interpolationkey:_})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((v=s==null?void 0:s.interpolation)==null?void 0:v.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Qa(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Qa(this.escape(p)):Qa(p)}].forEach(p=>{for(o=0;i=p.regex.exec(e);){const w=i[1].trim();if(a=u(w),a===void 0)if(typeof h=="function"){const y=h(e,i,s);a=$(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),a="";else!$(a)&&!this.useRawValueToEscape&&(a=Uc(a));const _=p.safeValue(a);if(e=e.replace(i[0],_),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a;const o=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const d=l.split(new RegExp(`${or(h)}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,a);const v=f.match(/'/g),p=f.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!p||((p==null?void 0:p.length)??0)%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${h}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!$(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(l=s[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=r(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!$(i))return i;$(i)||(i=Uc(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((h,d)=>this.format(h,d,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const My=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();r[h]||(r[h]=u),u==="false"&&(r[h]=!1),u==="true"&&(r[h]=!0),isNaN(u)||(r[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Gc=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let o=e[a];return o||(o=t(ws(n),s),e[a]=o),o(r)}},Fy=t=>(e,r,n)=>t(ws(r),n)(e);class zy{constructor(e={}){this.logger=yt.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Gc:Fy;this.formats={number:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:n((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:n((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:n((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Gc(r)}format(e,r,n,s={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var d;const{formatName:u,formatOptions:h}=My(l);if(this.formats[u]){let f=o;try{const v=((d=s==null?void 0:s.formatParams)==null?void 0:d[s.interpolationkey])||{},p=v.locale||v.lng||s.locale||s.lng||n;f=this.formats[u](o,p,{...h,...s,...v})}catch(v){this.logger.warn(v)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const By=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Wy extends va{constructor(e,r,n,s={}){var i,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=yt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,r,n,s){const i={},a={},o={},l={};return e.forEach(u=>{let h=!0;r.forEach(d=>{const f=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,h=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),l[d]===void 0&&(l[d]=!0)))}),h||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Cy(l.loaded,[i],a),By(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const h=l.loaded[u];h.length&&h.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(u,h)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,r,o)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();$(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,s,i,a={},o=()=>{}){var l,u,h,d,f;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((d=(h=this.services)==null?void 0:h.utils)!=null&&d.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){const v={...a,isUpdate:i},p=this.backend.create.bind(this.backend);if(p.length<6)try{let w;p.length===5?w=p(e,r,n,s,v):w=p(e,r,n,s),w&&typeof w.then=="function"?w.then(_=>o(null,_)).catch(o):o(null,w)}catch(w){o(w)}else p(e,r,n,s,o,v)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Ya=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),$(t[1])&&(e.defaultValue=t[1]),$(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Jc=t=>{var e,r;return $(t.ns)&&(t.ns=[t.ns]),$(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),$(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ei=()=>{},Vy=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})},ip="__i18next_supportNoticeShown",qy=()=>typeof globalThis<"u"&&!!globalThis[ip],Hy=()=>{typeof globalThis<"u"&&(globalThis[ip]=!0)},Ky=t=>{var e,r,n,s,i,a,o,l,u,h,d,f,v;return!!(((n=(r=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:r.name)==null?void 0:n.indexOf("Locize"))>0||((o=(a=(i=(s=t==null?void 0:t.modules)==null?void 0:s.backend)==null?void 0:i.constructor)==null?void 0:a.name)==null?void 0:o.indexOf("Locize"))>0||(u=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&u.backends&&t.options.backend.backends.some(p=>{var w,_,y;return((w=p==null?void 0:p.name)==null?void 0:w.indexOf("Locize"))>0||((y=(_=p==null?void 0:p.constructor)==null?void 0:_.name)==null?void 0:y.indexOf("Locize"))>0})||(d=(h=t==null?void 0:t.options)==null?void 0:h.backend)!=null&&d.projectId||(v=(f=t==null?void 0:t.options)==null?void 0:f.backend)!=null&&v.backendOptions&&t.options.backend.backendOptions.some(p=>p==null?void 0:p.projectId))};class Yn extends va{constructor(e={},r){if(super(),this.options=Jc(e),this.services={},this.logger=yt,this.modules={external:[]},Vy(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&($(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Ya();this.options={...n,...this.options,...Jc(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Ky(this)&&!qy()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),Hy());const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?yt.init(s(this.modules.logger),this.options):yt.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=zy;const h=new Wc(this.options);this.store=new zc(this.options.resources,this.options);const d=this.services;d.logger=yt,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new Dy(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(d.formatter=s(u),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Kc(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Wy(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(v,...p)=>{this.emit(v,...p)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Gi(this.services,this.options),this.translator.on("*",(v,...p)=>{this.emit(v,...p)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ei),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const o=Rn(),l=()=>{const u=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),r(h,d)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,r=ei){var i,a;let n=r;const s=$(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>l(h)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const s=Rn();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=ei),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&np.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Rn();this.emit("languageChanging",e);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(o,(...u)=>this.t(...u))},a=o=>{var h,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=$(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes($(o)?[o]:o);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||d.call(h,u)),this.loadResources(u,f=>{i(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const u=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(i)?h=i.map(d=>(typeof d=="function"&&(d=al(d,{...this.options,...a})),`${l.keyPrefix}${u}${d}`)):(typeof i=="function"&&(i=al(i,{...this.options,...a})),h=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(h,l)};return $(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){const n=Rn();return this.options.ns?($(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Rn();$(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new Wc(Ya());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Yn(e,r);return n.createInstance=Yn.createInstance,n}cloneInstance(e={},r=ei){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Yn(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((h,d)=>(h[d]={...l[u][d]},h),l[u]),l),{});i.store=new zc(o,s),i.services.resourceStore=i.store}if(e.interpolation){const l={...Ya().interpolation,...this.options.interpolation,...e.interpolation},u={...s,interpolation:l};i.services.interpolator=new Kc(u)}return i.translator=new Gi(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ge=Yn.createInstance();ge.createInstance;ge.dir;ge.init;ge.loadResources;ge.reloadResources;ge.use;ge.changeLanguage;ge.getFixedT;ge.t;ge.exists;ge.setDefaultNamespace;ge.hasLoadedNamespace;ge.loadNamespaces;ge.loadLanguages;const Gy=(t,e,r,n)=>{var i,a,o,l;const s=[r,{code:e,...n||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Cr(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Qc={},ap=(t,e,r,n)=>{Cr(r)&&Qc[r]||(Cr(r)&&(Qc[r]=new Date),Gy(t,e,r,n))},op=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},ol=(t,e,r)=>{t.loadNamespaces(e,op(t,r))},Yc=(t,e,r,n)=>{if(Cr(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return ol(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,op(t,n))},Jy=(t,e,r={})=>!e.languages||!e.languages.length?(ap(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),Cr=t=>typeof t=="string",Qy=t=>typeof t=="object"&&t!==null,Yy=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Xy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Zy=t=>Xy[t],ew=t=>t.replace(Yy,Zy);let ll={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ew,transDefaultProps:void 0};const tw=(t={})=>{ll={...ll,...t}},rw=()=>ll;let lp;const nw=t=>{lp=t},sw=()=>lp,iw={type:"3rdParty",init(t){tw(t.options.react),nw(t)}},aw=b.createContext();class ow{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var up={exports:{}},cp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=b;function lw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uw=typeof Object.is=="function"?Object.is:lw,cw=yn.useState,dw=yn.useEffect,hw=yn.useLayoutEffect,fw=yn.useDebugValue;function pw(t,e){var r=e(),n=cw({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return hw(function(){s.value=r,s.getSnapshot=e,Xa(s)&&i({inst:s})},[t,r,e]),dw(function(){return Xa(s)&&i({inst:s}),t(function(){Xa(s)&&i({inst:s})})},[t]),fw(r),r}function Xa(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!uw(t,r)}catch{return!0}}function mw(t,e){return e()}var gw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mw:pw;cp.useSyncExternalStore=yn.useSyncExternalStore!==void 0?yn.useSyncExternalStore:gw;up.exports=cp;var vw=up.exports;const yw=(t,e)=>Cr(e)?e:Qy(e)&&Cr(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,ww={t:yw,ready:!1},xw=()=>()=>{},ht=(t,e={})=>{var L,T,Se;const{i18n:r}=e,{i18n:n,defaultNS:s}=b.useContext(aw)||{},i=r||n||sw();i&&!i.reportNamespaces&&(i.reportNamespaces=new ow),i||ap(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=b.useMemo(()=>{var B;return{...rw(),...(B=i==null?void 0:i.options)==null?void 0:B.react,...e}},[i,e]),{useSuspense:o,keyPrefix:l}=a,u=s||((L=i==null?void 0:i.options)==null?void 0:L.defaultNS),h=Cr(u)?[u]:u||["translation"],d=b.useMemo(()=>h,h);(Se=(T=i==null?void 0:i.reportNamespaces)==null?void 0:T.addUsedNamespaces)==null||Se.call(T,d);const f=b.useRef(0),v=b.useCallback(B=>{if(!i)return xw;const{bindI18n:D,bindI18nStore:z}=a,re=()=>{f.current+=1,B()};return D&&i.on(D,re),z&&i.store.on(z,re),()=>{D&&D.split(" ").forEach(ce=>i.off(ce,re)),z&&z.split(" ").forEach(ce=>i.store.off(ce,re))}},[i,a]),p=b.useRef(),w=b.useCallback(()=>{if(!i)return ww;const B=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(N=>Jy(N,i,a)),D=e.lng||i.language,z=f.current,re=p.current;if(re&&re.ready===B&&re.lng===D&&re.keyPrefix===l&&re.revision===z)return re;const ke={t:i.getFixedT(D,a.nsMode==="fallback"?d:d[0],l),ready:B,lng:D,keyPrefix:l,revision:z};return p.current=ke,ke},[i,d,l,a,e.lng]),[_,y]=b.useState(0),{t:m,ready:g}=vw.useSyncExternalStore(v,w,w);b.useEffect(()=>{if(i&&!g&&!o){const B=()=>y(D=>D+1);e.lng?Yc(i,e.lng,d,B):ol(i,d,B)}},[i,e.lng,d,g,o,_]);const x=i||{},S=b.useRef(null),k=b.useRef(),E=B=>{const D=Object.getOwnPropertyDescriptors(B);D.__original&&delete D.__original;const z=Object.create(Object.getPrototypeOf(B),D);if(!Object.prototype.hasOwnProperty.call(z,"__original"))try{Object.defineProperty(z,"__original",{value:B,writable:!1,enumerable:!1,configurable:!1})}catch{}return z},C=b.useMemo(()=>{const B=x,D=B==null?void 0:B.language;let z=B;B&&(S.current&&S.current.__original===B?k.current!==D?(z=E(B),S.current=z,k.current=D):z=S.current:(z=E(B),S.current=z,k.current=D));const re=[m,z,g];return re.t=m,re.i18n=z,re.ready=g,re},[m,x,g,x.resolvedLanguage,x.language,x.languages]);if(i&&o&&!g)throw new Promise(B=>{const D=()=>B();e.lng?Yc(i,e.lng,d,D):ol(i,d,D)});return C};function _w({isOpen:t,onClose:e}){const r=Rr(),{t:n,i18n:s}=ht(),i=()=>{s.changeLanguage(s.language==="en"?"ar":"en"),e()},a=b.useRef(null);return jy(t),b.useEffect(()=>{t&&setTimeout(()=>{var o;return(o=a.current)==null?void 0:o.focus()},100)},[t]),b.useEffect(()=>{const o=l=>{l.key==="Escape"&&t&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,e]),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:H("fixed inset-0 z-50 bg-charcoal/40 backdrop-blur-sm transition-opacity duration-300",t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:e,"aria-hidden":"true"}),c.jsxs("div",{id:"mobile-drawer",role:"dialog","aria-modal":"true","aria-label":"Navigation menu",className:H("fixed top-0 bottom-0 z-50 w-72 bg-ivory shadow-hover transition-transform duration-300",s.language==="ar"?"left-0":"right-0",t?"translate-x-0":s.language==="ar"?"-translate-x-full":"translate-x-full"),children:[c.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-warm-gray",children:[c.jsx("span",{className:"font-serif text-xl font-bold text-charcoal",children:Ve.name}),c.jsx("button",{ref:a,onClick:e,"aria-label":"Close navigation menu",className:"p-2 rounded-lg text-charcoal hover:bg-warm-gray transition-colors",children:c.jsx(wy,{className:"h-5 w-5"})})]}),c.jsxs("nav",{className:"p-5",children:[c.jsxs("ul",{className:"space-y-1",role:"list",children:[c.jsx("li",{children:c.jsx(q,{to:"/",onClick:e,className:H("block px-4 py-3 rounded-xl font-sans font-medium transition-all duration-200",r.pathname==="/"?"bg-champagne-light text-champagne-dark":"text-charcoal-soft hover:bg-warm-gray hover:text-charcoal"),children:n("nav.home")})}),c.jsx("li",{children:c.jsx(q,{to:"/shop",onClick:e,className:H("block px-4 py-3 rounded-xl font-sans font-medium transition-all duration-200",r.pathname==="/shop"?"bg-champagne-light text-champagne-dark":"text-charcoal-soft hover:bg-warm-gray hover:text-charcoal"),children:n("nav.shop")})}),c.jsx("li",{children:c.jsx(q,{to:"/about",onClick:e,className:H("block px-4 py-3 rounded-xl font-sans font-medium transition-all duration-200",r.pathname==="/about"?"bg-champagne-light text-champagne-dark":"text-charcoal-soft hover:bg-warm-gray hover:text-charcoal"),children:n("nav.about")})}),c.jsx("li",{children:c.jsx(q,{to:"/faq",onClick:e,className:H("block px-4 py-3 rounded-xl font-sans font-medium transition-all duration-200",r.pathname==="/faq"?"bg-champagne-light text-champagne-dark":"text-charcoal-soft hover:bg-warm-gray hover:text-charcoal"),children:n("nav.faq")})})]}),c.jsxs("a",{href:Ls,target:"_blank",rel:"noopener noreferrer",className:"mt-6 flex items-center gap-3 px-4 py-3 rounded-xl bg-warm-gray text-charcoal font-medium hover:bg-champagne-light transition-colors duration-200",children:[c.jsx(tr,{className:"h-5 w-5 text-champagne"}),c.jsx("span",{children:n("common.chatOnWhatsapp")})]}),c.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[c.jsx(xe,{onClick:()=>{e(),window.location.href="/shop"},className:"w-full",children:n("nav.explore")}),c.jsx("button",{onClick:i,className:"w-full mt-4 flex items-center justify-center gap-2 py-3 rounded-xl font-sans font-bold text-charcoal-soft bg-warm-gray hover:bg-champagne-light hover:text-champagne-dark transition-colors uppercase",children:s.language==="en"?"":"English"})]})]})]})]})}function bw(){const[t,e]=b.useState(!1),[r,n]=b.useState(!1),s=Rr(),{t:i,i18n:a}=ht(),o=()=>{a.changeLanguage(a.language==="en"?"ar":"en")};return b.useEffect(()=>{const l=()=>e(window.scrollY>20);return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]),b.useEffect(()=>n(!1),[s.pathname]),c.jsxs(c.Fragment,{children:[c.jsx("header",{className:H("fixed top-0 left-0 right-0 z-50 transition-all duration-300",t?"bg-ivory/95 backdrop-blur-md border-b border-warm-gray shadow-soft py-3":"bg-transparent py-5"),children:c.jsx(ie,{children:c.jsxs("nav",{className:"flex items-center justify-between","aria-label":"Main navigation",children:[c.jsx(q,{to:"/",className:"font-serif text-2xl font-bold text-charcoal hover:text-champagne transition-colors duration-200","aria-label":Ve.name+"  Home",children:Ve.name}),c.jsxs("ul",{className:"hidden md:flex items-center gap-8",role:"list",children:[c.jsx("li",{children:c.jsx(q,{to:"/",className:H("font-sans text-sm font-medium transition-colors duration-200 hover:text-champagne",s.pathname==="/"?"text-champagne font-semibold":"text-charcoal-soft"),children:i("nav.home")})}),c.jsx("li",{children:c.jsx(q,{to:"/shop",className:H("font-sans text-sm font-medium transition-colors duration-200 hover:text-champagne",s.pathname==="/shop"?"text-champagne font-semibold":"text-charcoal-soft"),children:i("nav.shop")})}),c.jsx("li",{children:c.jsx(q,{to:"/about",className:H("font-sans text-sm font-medium transition-colors duration-200 hover:text-champagne",s.pathname==="/about"?"text-champagne font-semibold":"text-charcoal-soft"),children:i("nav.about")})}),c.jsx("li",{children:c.jsx(q,{to:"/faq",className:H("font-sans text-sm font-medium transition-colors duration-200 hover:text-champagne",s.pathname==="/faq"?"text-champagne font-semibold":"text-charcoal-soft"),children:i("nav.faq")})})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[c.jsx("button",{onClick:o,className:"text-sm font-sans font-bold text-charcoal-soft hover:text-champagne transition-colors duration-200 px-2 uppercase","aria-label":"Toggle language",children:a.language==="en"?"":"EN"}),c.jsxs("a",{href:Ls,target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",className:"flex items-center gap-2 text-sm font-medium text-charcoal-soft hover:text-champagne transition-colors duration-200",children:[c.jsx(tr,{className:"h-5 w-5"}),c.jsx("span",{className:"hidden lg:inline",children:"WhatsApp"})]}),c.jsx(xe,{as:"a",size:"sm",onClick:()=>window.location.href="/shop",children:i("nav.explore")})]}),c.jsx("button",{className:"md:hidden p-2 rounded-lg text-charcoal hover:bg-warm-gray transition-colors",onClick:()=>n(!0),"aria-label":"Open navigation menu","aria-expanded":r,"aria-controls":"mobile-drawer",children:c.jsx(my,{className:"h-6 w-6"})})]})})}),c.jsx(_w,{isOpen:r,onClose:()=>n(!1)})]})}function Sw(){const{t}=ht();return c.jsx("footer",{className:"bg-charcoal text-ivory",children:c.jsx(ie,{children:c.jsxs("div",{className:"pt-16 pb-8",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsx(q,{to:"/",className:"font-serif text-2xl font-bold text-ivory hover:text-champagne-light transition-colors",children:t("brand.name")}),c.jsx("p",{className:"mt-3 text-stone-light text-sm leading-relaxed",children:t("footer.description")}),c.jsx("div",{className:"mt-5 flex gap-3",children:[{label:"Instagram",href:"https://instagram.com/"},{label:"TikTok",href:"https://tiktok.com/"}].map(e=>c.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,className:"w-9 h-9 flex items-center justify-center rounded-full bg-charcoal-soft hover:bg-champagne hover:text-charcoal text-stone-light transition-all duration-200",children:c.jsx(fy,{className:"h-4 w-4"})},e.label))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-sans text-sm font-semibold uppercase tracking-widest text-champagne mb-4",children:t("footer.links")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(q,{to:"/shop",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:t("nav.shop")})}),c.jsx("li",{children:c.jsx(q,{to:"/about",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:t("nav.about")})}),c.jsx("li",{children:c.jsx(q,{to:"/contact",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:t("nav.contact")})}),c.jsx("li",{children:c.jsx(q,{to:"/faq",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:t("nav.faq")})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-sans text-sm font-semibold uppercase tracking-widest text-champagne mb-4",children:t("footer.policies")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(q,{to:"/policies#shipping",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:"Shipping Policy"})}),c.jsx("li",{children:c.jsx(q,{to:"/policies#returns",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:"Return Policy"})}),c.jsx("li",{children:c.jsx(q,{to:"/policies#privacy",className:"text-stone-light text-sm hover:text-champagne-light transition-colors",children:"Privacy Policy"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-sans text-sm font-semibold uppercase tracking-widest text-champagne mb-4",children:t("nav.contact")}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-2 text-stone-light text-sm",children:[c.jsx(gu,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-champagne"}),t("brand.address")]}),c.jsx("li",{children:c.jsxs("a",{href:`tel:${Ve.phone}`,className:"flex items-center gap-2 text-stone-light text-sm hover:text-champagne-light transition-colors",children:[c.jsx(Zf,{className:"h-4 w-4 text-champagne"}),Ve.phone]})}),c.jsx("li",{children:c.jsxs("a",{href:`mailto:${Ve.email}`,className:"flex items-center gap-2 text-stone-light text-sm hover:text-champagne-light transition-colors",children:[c.jsx(py,{className:"h-4 w-4 text-champagne"}),Ve.email]})}),c.jsx("li",{children:c.jsxs("a",{href:Ls,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-stone-light text-sm hover:text-champagne-light transition-colors",children:[c.jsx(tr,{className:"h-4 w-4 text-champagne"}),"WhatsApp"]})})]})]})]}),c.jsxs("div",{className:"border-t border-charcoal-soft pt-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[c.jsxs("p",{className:"text-stone text-xs",children:[" ",new Date().getFullYear()," ",t("footer.rights")]}),c.jsx("p",{className:"text-stone text-xs",children:"Built with "})]})]})})})}function kw(){return c.jsxs("a",{href:Ls,target:"_blank",rel:"noopener noreferrer","aria-label":"Chat on WhatsApp",className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] text-white px-4 py-3 rounded-full shadow-hover hover:shadow-xl hover:-translate-y-1 transition-all duration-200 group",children:[c.jsx(tr,{className:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),c.jsx("span",{className:"text-sm font-semibold font-sans overflow-hidden max-w-0 group-hover:max-w-[120px] transition-all duration-300 whitespace-nowrap",children:"Chat with us"})]})}const jw={default:"bg-warm-gray text-charcoal-soft",gold:"bg-champagne-light text-champagne-dark",olive:"bg-olive-light text-olive",stone:"bg-stone-light text-stone"};function Ne({variant:t="default",className:e,children:r,...n}){return c.jsx("span",{className:H("inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-sans font-semibold uppercase tracking-wider",jw[t],e),...n,children:r})}function dp({items:t,className:e}){const[r,n]=b.useState(null),s=i=>n(a=>a===i?null:i);return c.jsx("div",{className:H("divide-y divide-warm-gray",e),role:"list",children:t.map(i=>{const a=r===i.id,o=`accordion-content-${i.id}`,l=`accordion-header-${i.id}`;return c.jsxs("div",{role:"listitem",children:[c.jsxs("button",{id:l,"aria-expanded":a,"aria-controls":o,onClick:()=>s(i.id),className:"w-full flex items-center justify-between gap-4 py-5 text-left text-charcoal font-medium hover:text-champagne-dark transition-colors duration-200 focus-visible:outline focus-visible:outline-2 focus-visible:outline-champagne focus-visible:rounded",children:[c.jsx("span",{className:"text-base font-sans font-semibold",children:i.question}),c.jsx(sl,{className:H("h-5 w-5 flex-shrink-0 text-champagne transition-transform duration-300",a&&"rotate-180"),"aria-hidden":"true"})]}),c.jsx("div",{id:o,role:"region","aria-labelledby":l,className:H("overflow-hidden transition-all duration-300",a?"max-h-96 pb-5":"max-h-0"),children:c.jsx("p",{className:"text-charcoal-soft font-sans leading-relaxed",children:i.answer})})]},i.id)})})}function Ew({items:t,active:e,onChange:r,className:n}){return c.jsx("div",{role:"tablist","aria-label":"Collection tabs",className:H("flex gap-1 p-1 bg-warm-gray rounded-full w-fit",n),children:t.map(s=>c.jsxs("button",{role:"tab","aria-selected":e===s.key,"aria-controls":`tabpanel-${s.key}`,onClick:()=>r(s.key),className:H("px-5 py-2 rounded-full text-sm font-sans font-semibold transition-all duration-200",e===s.key?"bg-champagne text-charcoal shadow-sm":"text-stone hover:text-charcoal hover:bg-ivory"),children:[s.icon&&c.jsx("span",{className:"mr-1",children:s.icon}),s.label]},s.key))})}function Ji(t){return`${t.toLocaleString("en-SA")} SAR`}function Nw(t){const e=["from-champagne-light to-ivory-dark","from-olive-light to-warm-gray","from-stone-light to-ivory-dark","from-warm-gray to-champagne-light","from-ivory-dark to-olive-light"],r=t.charCodeAt(0)%e.length;return e[r]}function Mn({id:t,name:e,slug:r,category:n,material:s,price_sar:i,is_featured:a,imageUrl:o,className:l}){const u=Nw(t),{t:h}=ht();return c.jsxs(q,{to:`/product/${r}`,className:H("group block rounded-2xl overflow-hidden bg-white border border-warm-gray shadow-card hover:shadow-card-hover hover:-translate-y-1 transition-all duration-300",l),"aria-label":`View ${e}  ${Ji(i)}`,children:[c.jsxs("div",{className:"relative overflow-hidden",children:[o?c.jsx("img",{src:o,alt:e,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-500"}):c.jsx("div",{className:H("w-full h-64 bg-gradient-to-br flex items-center justify-center",u),children:c.jsx("span",{className:"font-serif text-5xl text-champagne opacity-30 select-none",children:e.charAt(0)})}),a&&c.jsx("div",{className:"absolute top-3 left-3 rtl:right-3 rtl:left-auto",children:c.jsx(Ne,{variant:"gold",children:h("common.featured")})}),c.jsx("div",{className:"absolute inset-0 bg-charcoal/0 group-hover:bg-charcoal/10 transition-all duration-300 flex items-end justify-end p-3 opacity-0 group-hover:opacity-100",children:c.jsx("div",{className:"bg-[#25D366] text-white rounded-full p-2 shadow-card",children:c.jsx(tr,{className:"h-4 w-4"})})})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("p",{className:"text-xs font-sans font-semibold uppercase tracking-widest text-stone mb-1",children:h(`collections.tabs.${n}`)}),c.jsx("h3",{className:"font-serif text-lg font-semibold text-charcoal mb-1 group-hover:text-champagne-dark transition-colors duration-200 line-clamp-1",children:e}),c.jsx("p",{className:"text-sm text-stone font-sans mb-3",children:s}),c.jsx("p",{className:"font-sans font-bold text-champagne-dark text-base",children:Ji(i)})]})]})}function at({height:t,width:e,rounded:r="rounded-xl",className:n,style:s,...i}){return c.jsx("div",{className:H("bg-gradient-to-r from-warm-gray via-ivory-dark to-warm-gray bg-[length:200%_100%] animate-pulse",r,n),style:{height:t,width:e,...s},...i})}function Qi(){return c.jsxs("div",{className:"rounded-2xl overflow-hidden border border-warm-gray",children:[c.jsx(at,{height:"280px",rounded:"rounded-none"}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsx(at,{height:"20px",width:"70%"}),c.jsx(at,{height:"16px",width:"50%"}),c.jsx(at,{height:"24px",width:"40%"})]})]})}function Cw(){return c.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[c.jsx(at,{height:"500px",rounded:"rounded-2xl"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(at,{height:"40px",width:"80%"}),c.jsx(at,{height:"24px",width:"40%"}),c.jsx(at,{height:"16px"}),c.jsx(at,{height:"16px"}),c.jsx(at,{height:"16px",width:"60%"}),c.jsx(at,{height:"52px",rounded:"rounded-full",className:"mt-6"})]})]})}function ya(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Pw(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(h){try{u(n.next(h))}catch(d){a(d)}}function l(h){try{u(n.throw(h))}catch(d){a(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const Ow=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Tw extends vu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xc extends vu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zc extends vu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ul;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ul||(ul={}));class Rw{constructor(e,{headers:r={},customFetch:n,region:s=ul.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Ow(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Pw(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:h,timeout:d}=n;let f={},{region:v}=n;v||(v=this.region);const p=new URL(`${this.url}/${r}`);v&&v!=="any"&&(f["x-region"]=v,p.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let _=h;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),h?(_=a.signal,h.addEventListener("abort",()=>a.abort())):_=a.signal);const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:w,signal:_}).catch(S=>{throw new Tw(S)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new Xc(y);if(!y.ok)throw new Zc(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield y.json():g==="application/octet-stream"||g==="application/pdf"?x=yield y.blob():g==="text/event-stream"?x=y:g==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Zc||o instanceof Xc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Aw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Lw=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,h=i.statusText;if(i.ok){var d,f;if(r.method!=="HEAD"){var v;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=y:o=JSON.parse(y))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&_&&_.length>1&&(l=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var p;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,h="OK")}catch{i.status===404&&w===""?(u=204,h="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(p=a.details)===null||p===void 0)&&p.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new Aw(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const h=i==null?void 0:i.cause;if(h){var d,f,v,p;const y=(d=h==null?void 0:h.message)!==null&&d!==void 0?d:"",m=(f=h==null?void 0:h.code)!==null&&f!==void 0?f:"";o=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"Error"}: ${y}`,m&&(o+=` (${m})`),h!=null&&h.stack&&(o+=`
${h.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const _=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(l+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Iw=class extends Lw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ed=new RegExp("[,()]");var zr=class extends Iw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&ed.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&ed.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},$w=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new zr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new zr({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",h.join(","))}}return new zr({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new zr({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new zr({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function Uw(t,e){if(xs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(t){var e=Uw(t,"string");return xs(e)=="symbol"?e:e+""}function Mw(t,e,r){return(e=Dw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function td(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?td(Object(r),!0).forEach(function(n){Mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Fw=class hp{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const h=new AbortController,d=setTimeout(()=>h.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(d),o(l,u);const v=()=>{clearTimeout(d),h.abort()};return f.addEventListener("abort",v,{once:!0}),o(l,ti(ti({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",v)})}return o(l,ti(ti({},u),{},{signal:h.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $w(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new hp(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const h=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(h)),d=n&&Object.values(r).some(h);d?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([v,p])=>p!==void 0).map(([v,p])=>[v,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([v,p])=>{l.searchParams.append(v,p)})):(o="POST",u=r);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new zr({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class zw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bw="2.97.0",Ww=`realtime-js/${Bw}`,Vw="1.0.0",fp="2.0.0",rd=fp,cl=1e4,qw=1e3,Hw=100;var Ut;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ut||(Ut={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ot||(ot={}));var dl;(function(t){t.websocket="websocket"})(dl||(dl={}));var pr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pr||(pr={}));class Kw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,v=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(v),w=0;p.setUint8(w++,this.KINDS.userBroadcastPush),p.setUint8(w++,l.length),p.setUint8(w++,o.length),p.setUint8(w++,a.length),p.setUint8(w++,u.length),p.setUint8(w++,d.length),p.setUint8(w++,r),Array.from(l,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(w++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(w++,y.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,p={type:this.BROADCAST_EVENT,event:h,payload:v};return a>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class pp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const nd=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Gw(a,t,e,s),i),{}):{}},Gw=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?mp(i,a):hl(a)},mp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Xw(e,r)}switch(t){case G.bool:return Jw(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Qw(e);case G.json:case G.jsonb:return Yw(e);case G.timestamp:return Zw(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return hl(e);default:return hl(e)}},hl=t=>t,Jw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Qw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Xw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>mp(e,o))}return t},Zw=t=>typeof t=="string"?t.replace(" ","T"):t,gp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Za{constructor(e,r,n={},s=cl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sd||(sd={}));class Xn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Xn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const d=i[u];if(d){const f=h.map(_=>_.presence_ref),v=d.map(_=>_.presence_ref),p=h.filter(_=>v.indexOf(_.presence_ref)<0),w=d.filter(_=>f.indexOf(_.presence_ref)<0);p.length>0&&(o[u]=p),w.length>0&&(l[u]=w)}else o[u]=h}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),h.length>0){const d=e[o].map(v=>v.presence_ref),f=h.filter(v=>d.indexOf(v.presence_ref)<0);e[o].unshift(...f)}n(o,h,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const h=l.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var id;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(id||(id={}));var Zn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zn||(Zn={}));var St;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class rn{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Za(this,ot.join,this.params,this.timeout),this.rejoinTimer=new pp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Xn(this),this.broadcastEndpointURL=gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Zn.PRESENCE]&&this.bindings[Zn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(St.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(St.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(St.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,y=[];for(let m=0;m<_;m++){const g=w[m],{filter:{event:x,schema:S,table:k,filter:E}}=g,C=v&&v[m];if(C&&C.event===x&&rn.isFilterValueEqual(C.schema,S)&&rn.isFilterValueEqual(C.table,k)&&rn.isFilterValueEqual(C.filter,E))y.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(St.SUBSCRIBED);return}}).receive("error",v=>{this.state=de.errored,e==null||e(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===Zn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Za(this,ot.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Za(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=ot;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var p,w,_;return((p=v.filter)===null||p===void 0?void 0:p.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(v=>v.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var p,w,_,y,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const x=v.id,S=(p=v.filter)===null||p===void 0?void 0:p.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:w,table:_,commit_timestamp:y,type:m,errors:g}=p;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(p))}v.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rn.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=nd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=nd(e.columns,e.old_record)),r}}const eo=()=>{},ri={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e0=[1e3,2e3,5e3,1e4],t0=1e4,r0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cl,this.transport=null,this.heartbeatIntervalMs=ri.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eo,this.ref=0,this.reconnectTimer=null,this.vsn=rd,this.logger=eo,this.conn=null,this.sendBuffer=[],this.serializer=new Kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${dl.websocket}`,this.httpEndpoint=gp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ut.connecting:return pr.Connecting;case Ut.open:return pr.Open;case Ut.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new rn(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ri.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ut.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ut.open||this.conn.readyState===Ut.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([r0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Ww};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ot.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ri.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,l,u,h,d,f,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:cl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ri.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:eo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:rd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>e0[p-1]||t0,this.vsn){case Vw:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(p,w)=>w(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(p,w)=>w(JSON.parse(p));break;case fp:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var _s=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function s0(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function i0(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function a0(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=s0(t.baseUrl,n,s),l=await i0(t.auth),u=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),h=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&h?JSON.parse(h):h;if(!u.ok){const v=d?f:void 0,p=v==null?void 0:v.error;throw new _s((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:v})}return{status:u.status,headers:u.headers,data:f}}}}function ni(t){return t.join("")}var o0=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ni(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(t.namespace)}`}),!0}catch(e){if(e instanceof _s&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _s&&r.status===409)return;throw r}}};function Ir(t){return t.join("")}var l0=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _s&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _s&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},u0=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a0({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new o0(this.client,e),this.tableOps=new l0(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},wa=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function xa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var si=class extends wa{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vp=class extends wa{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const c0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fl=t=>{if(Array.isArray(t))return t.map(r=>fl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fl(n)}),e},h0=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function f0(t,e){if(bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p0(t){var e=f0(t,"string");return bs(e)=="symbol"?e:e+""}function m0(t,e,r){return(e=p0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ad(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ad(Object(r),!0).forEach(function(n){m0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const od=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},g0=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new si(od(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";e(new si(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";e(new si(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";e(new si(s.statusText||`HTTP ${i} error`,i,a,n))}}else e(new vp(od(t),t,n))},v0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?R(R({},s),r):(d0(n)?(s.headers=R({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),R(R({},s),r))};async function An(t,e,r,n,s,i,a){return new Promise((o,l)=>{t(r,v0(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>g0(u,l,n,a))})}function yp(t="storage"){return{get:async(e,r,n,s)=>An(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>An(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>An(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>An(e,"HEAD",r,R(R({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>An(e,"DELETE",r,s,i,n,t)}}const y0=yp("storage"),{get:Ss,post:st,put:pl,head:w0,remove:yu}=y0,Be=yp("vectors");var Sn=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=c0(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=R(R({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}},x0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(xa(e))return{data:null,error:e};throw e}}};let wp;wp=Symbol.toStringTag;var _0=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[wp]="BlobDownloadBuilder",this.promise=null}asStream(){return new x0(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(xa(e))return{data:null,error:e};throw e}}};const b0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ld={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S0=class extends Sn{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=R(R({},ld),n);let o=R(R({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=R(R({},o),n.headers));const u=s._removeEmptyFolders(e),h=s._getFinalPath(u),d=await(t=="PUT"?pl:st)(s.fetch,`${s.url}/object/${h}`,i,R({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=R({upsert:ld.upsert},n),h=R(R({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:i,fullPath:(await pl(s.fetch,o.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=R({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await st(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new wa("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await st(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await st(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await st(n.fetch,`${n.url}/object/sign/${s}`,R({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await st(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>R(R({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(t),o=()=>Ss(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new _0(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>fl(await Ss(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await w0(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n)&&n instanceof vp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await yu(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=R(R(R({},b0),e),{},{prefix:t||""});return await st(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=R({},t);return await st(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const k0="2.97.0",Is={"X-Client-Info":`storage-js/${k0}`};var j0=class extends Sn{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=R(R({},Is),e);super(i,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Ss(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ss(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await st(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await pl(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await st(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await yu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},E0=class extends Sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=R(R({},Is),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await st(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Ss(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await yu(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!h0(t))throw new wa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new u0({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},N0=class extends Sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=R(R({},Is),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Be.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Be.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},C0=class extends Sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=R(R({},Is),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},P0=class extends Sn{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=R(R({},Is),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Be.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},O0=class extends P0{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new T0(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},T0=class extends N0{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new R0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},R0=class extends C0{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,R(R({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},A0=class extends j0{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new S0(this.url,this.headers,t,this.fetch)}get vectors(){return new O0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E0(this.url+"/iceberg",this.headers,this.fetch)}};const xp="2.97.0",Br=30*1e3,ml=3,to=ml*Br,L0="http://localhost:9999",I0="supabase.auth.token",$0={"X-Client-Info":`gotrue-js/${xp}`},gl="X-Supabase-Api-Version",_p={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D0=10*60*1e3;class ks extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class M0 extends ks{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function F0(t){return O(t)&&t.name==="AuthApiError"}class mr extends ks{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class At extends ks{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Fe extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ro(t){return O(t)&&t.name==="AuthSessionMissingError"}class $r extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ii extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ai extends At{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z0(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class ud extends At{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class B0 extends At{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vl extends At{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function no(t){return O(t)&&t.name==="AuthRetryableFetchError"}class cd extends At{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yl extends At{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dd=` 	
\r=`.split(""),W0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<dd.length;e+=1)t[dd[e].charCodeAt(0)]=-2;for(let e=0;e<Yi.length;e+=1)t[Yi[e].charCodeAt(0)]=e;return t})();function hd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Yi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Yi[n]),e.queuedBits-=6}}function bp(t,e,r){const n=W0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fd(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{H0(a,n,r)};for(let a=0;a<t.length;a+=1)bp(t.charCodeAt(a),s,i);return e.join("")}function V0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function q0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}V0(n,e)}}function H0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function cn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)bp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function K0(t){const e=[];return q0(t,r=>e.push(r)),new Uint8Array(e)}function wr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>hd(s,r,n)),hd(null,r,n),e.join("")}function G0(t){return Math.round(Date.now()/1e3)+t}function J0(){return Symbol("auth-callback")}const ye=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Sp=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function Q0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const kp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Y0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(t,e)=>{await t.removeItem(e)};class _a{constructor(){this.promise=new _a.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}_a.promiseConstructor=Promise;function oi(t){const e=t.split(".");if(e.length!==3)throw new yl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!U0.test(e[n]))throw new yl("JWT not in base64url format");return{header:JSON.parse(fd(e[0])),payload:JSON.parse(fd(e[1])),signature:cn(e[2]),raw:{header:e[0],payload:e[1]}}}async function X0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Z0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function ex(t){return("0"+t.toString(16)).substr(-2)}function tx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ex).join("")}async function rx(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ur(t,e,r=!1){const n=tx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wr(t,`${e}-code-verifier`,s);const i=await nx(n);return[i,n===i?"plain":"s256"]}const sx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ix(t){const e=t.headers.get(gl);if(!e||!e.match(sx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ax(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ox(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dr(t){if(!lx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function so(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ux(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function pd(t){return JSON.parse(JSON.stringify(t))}const hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cx=[502,503,504];async function md(t){var e;if(!Y0(t))throw new vl(hr(t),0);if(cx.includes(t.status))throw new vl(hr(t),t.status);let r;try{r=await t.json()}catch(i){throw new mr(hr(i),i)}let n;const s=ix(t);if(s&&s.getTime()>=_p["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cd(hr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new cd(hr(r),t.status,r.weak_password.reasons);throw new M0(hr(r),t.status||500,n)}const dx=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[gl]||(i[gl]=_p["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await hx(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hx(t,e,r,n,s,i){const a=dx(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new vl(hr(l),0)}if(o.ok||await md(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await md(l)}}function rt(t){var e;let r=null;mx(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=G0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gd(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ft(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fx(t){return{data:t,error:null}}function px(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=ya(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function vd(t){return t}function mx(t){return t.access_token&&t.refresh_token&&t.expires_in}const io=["global","local","others"];class gx{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=kp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=io[0]){if(io.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${io.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ya(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:px,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(O(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vd});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Dr(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Dr(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Dr(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Dr(e.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Dr(e.userId),Dr(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vd});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(p.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}}function yd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Mr={debug:!!(globalThis&&Sp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wd extends jp{}async function vx(t,e,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;e>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new wd(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${e}ms`):s}}function yx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ep(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wx(t){return parseInt(t,16)}function xx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _x(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Ep(t.address),p=h?`${h}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${p} wants you to sign in with your Ethereum account:
${v}

${w}`;let y=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${_}
${y}`}class oe extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Xi extends oe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function bx({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Np(a)){if(i.rp.id!==a)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Sx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Np(n)){if(r.rpId!==n)return new oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class kx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jx=new kx;function Ex(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=ya(t,["challenge","user","excludeCredentials"]),i=cn(e).buffer,a=Object.assign(Object.assign({},r),{id:cn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:cn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Nx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ya(t,["challenge","allowCredentials"]),s=cn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:cn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Cx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Px(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:wr(new Uint8Array(s.authenticatorData)),clientDataJSON:wr(new Uint8Array(s.clientDataJSON)),signature:wr(new Uint8Array(s.signature)),userHandle:s.userHandle?wr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Np(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xd(){var t,e;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ox(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xi("Browser returned unexpected credential type",e)}:{data:null,error:new Xi("Empty credential response",e)}}catch(e){return{data:null,error:bx({error:e,options:t})}}}async function Tx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xi("Browser returned unexpected credential type",e)}:{data:null,error:new Xi("Empty credential response",e)}}catch(e){return{data:null,error:Sx({error:e,options:t})}}}const Rx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ax={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=Zi(o,a):n[i]=Zi(a)}else n[i]=a}return n}function Lx(t,e){return Zi(Rx,t,e||{})}function Ix(t,e){return Zi(Ax,t,e||{})}class $x{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const u=s??jx.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;if(!h.name){const d=n;if(d)h.name=`${h.id}:${d}`;else{const v=(await this.client.getUser()).data.user,p=((a=v==null?void 0:v.user_metadata)===null||a===void 0?void 0:a.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";h.name=`${h.id}:${p}`}}h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=Lx(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Ox({publicKey:h,signal:u});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const h=Ix(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Tx(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new mr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ks("rpId is required for WebAuthn authentication")};try{if(!xd())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new mr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ks("rpId is required for WebAuthn registration")};try{if(!xd())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new mr("Unexpected error in register",a)}}}}yx();const Ux={url:L0,storageKey:I0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function _d(t,e,r){return await r()}const Fr={};class js{get jwks(){var e,r;return(r=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ux),e);if(this.storageKey=i.storageKey,this.instanceID=(r=js.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,js.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kp(i.fetch),this.lock=i.lock||_d,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vx:this.lock=_d,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $x(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Sp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yd(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}i.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ye()&&(r=Q0(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),z0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await Ur(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:p},xform:rt})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rt})}else throw new ii("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gd})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gd})}else throw new ii("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new $r;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,l,u,h,d,f;let v,p;if("message"in e)v=e.message,p=e.signature;else{const{chain:w,wallet:_,statement:y,options:m}=e;let g;if(ye())if(typeof _=="object")g=_;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")g=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=_}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await g.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Ep(S[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const L=await g.request({method:"eth_chainId"});E=wx(L)}const C={domain:x.host,address:k,statement:y,uri:x.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=_x(C),p=await g.request({method:"personal_sign",params:[xx(v),k]})}try{const{data:w,error:_}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:p},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:rt});if(_)throw _;if(!w||!w.session||!w.user){const y=new $r;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,a,o,l,u,h,d,f,v;let p,w;if("message"in e)p=e.message,w=e.signature;else{const{chain:_,wallet:y,statement:m,options:g}=e;let x;if(ye())if(typeof y=="object")x=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:_,error:y}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:wr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rt});if(y)throw y;if(!_||!_.session||!_.user){const m=new $r;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(O(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new B0;const{data:i,error:a}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rt});if(await ve(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new $r;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ur(this.storage,this.storageKey));const{error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new ii("You must provide either an email or phone number.")}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ur(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:fx});return!((i=u.data)===null||i===void 0)&&i.url&&ye()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fe;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new ii("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ur(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=so()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ux(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fe}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(r){if(O(r))return ro(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Fe;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ur(this.storage,this.storageKey));const{data:u,error:h}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ft});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=oi(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ye())throw new ai("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ai(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ud("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ai("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ud("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new ai("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(o);let f=h+d;l&&(f=parseInt(l));const v=f-h;v*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const p=f-d;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,h);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!ro(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(F0(o)&&(o.status===404||o.status===401||o.status===403)||ro(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=J0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ur(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,h;const{data:d,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(O(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:h}=e,d=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rt}),{data:f,error:v}=d;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new $r}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z0(async s=>(s>0&&await X0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&no(i)&&Date.now()+a-n<Br})}catch(n){if(this._debug(r,"error",n),O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Wr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:so()}else if(s&&!s.user&&!s.user){const a=await ur(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ve(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,s)):s.user=so()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<to;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${to}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),no(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _a;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Fe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),O(i)){const a={data:null,error:i};return no(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=pd(s);await Wr(this.storage,this.storageKey,i)}else{const s=pd(r);await Wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${ml} ticks`),s<=ml&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ur(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cx(e.webauthn.credential_response):Px(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ex(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Nx(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:v}=oi(e);let p=null;v.aal&&(p=v.aal);let w=p;const{data:{user:_},error:y}=await this.getUser(e);if(y)return this._returnResult({data:null,error:y});((n=(r=_==null?void 0:_.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const g=v.amr||[];return{data:{currentLevel:p,nextLevel:w,currentAuthenticationMethods:g},error:null}}catch(v){if(O(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=oi(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fe})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Fe});const a=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Fe});const a=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fe})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fe})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+D0>s)return n;const{data:i,error:a}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:p}=await this.getSession();if(p||!v.session)return this._returnResult({data:null,error:p});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=oi(n);r!=null&&r.allowExpired||ax(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=ox(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,K0(`${o}.${l}`)))throw new yl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}}js.nextInstanceID={};const Dx=js,Mx="2.97.0";let Fn="";typeof Deno<"u"?Fn="deno":typeof document<"u"?Fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fn="react-native":Fn="node";const Fx={"X-Client-Info":`supabase-js-${Fn}/${Mx}`},zx={headers:Fx},Bx={schema:"public"},Wx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vx={};function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function qx(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hx(t){var e=qx(t,"string");return Es(e)=="symbol"?e:e+""}function Kx(t,e,r){return(e=Hx(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(r),!0).forEach(function(n){Kx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bd(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Gx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jx=()=>Headers,Qx=(t,e,r)=>{const n=Gx(r),s=Jx();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,ne(ne({},a),{},{headers:u}))}};function Yx(t){return t.endsWith("/")?t:t+"/"}function Xx(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:h,global:d}=e,f={db:ne(ne({},l),s),auth:ne(ne({},u),i),realtime:ne(ne({},h),a),storage:{},global:ne(ne(ne({},d),o),{},{headers:ne(ne({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Zx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var e_=class extends Dx{constructor(t){super(t)}},t_=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=Zx(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Bx,realtime:Vx,auth:ne(ne({},Wx),{},{storageKey:a}),global:zx},l=Xx(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Qx(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Fw(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new A0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Rw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e_({url:this.authUrl.href,headers:ne(ne({},f),h),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n0(this.realtimeUrl.href,ne(ne({},t),{},{params:ne(ne({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const r_=(t,e,r)=>new t_(t,e,r);function n_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}n_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.warn("Supabase env vars not set. Using demo mode with mock data.");const br=r_("https://placeholder.supabase.co","placeholder-key");function s_(){const[t,e]=b.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return b.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=s=>e(s.matches);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),t}function i_(){const[t,e]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState("sofa"),[a,o]=b.useState(!0),[l,u]=b.useState(!1),h=s_(),{t:d}=ht();b.useEffect(()=>{async function p(){const{data:w}=await br.from("products").select("*").eq("is_featured",!0).limit(6);e(w||[]),o(!1)}p()},[]),b.useEffect(()=>{async function p(){u(!0);const{data:w}=await br.from("products").select("*").eq("category",s).limit(4);n(w||[]),u(!1)}p()},[s]);const v=(d("faqs",{returnObjects:!0})||[]).slice(0,4).map((p,w)=>({id:String(w),question:p.q,answer:p.a}));return c.jsxs("main",{children:[c.jsxs("section",{className:"relative min-h-screen flex items-center pt-24 pb-16 overflow-hidden bg-ivory",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-champagne/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 -left-20 w-80 h-80 bg-olive/5 rounded-full blur-2xl"})]}),c.jsx(ie,{className:"relative z-10",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs(Ne,{variant:"gold",className:"mb-6 border border-champagne/30",children:[" ",d("hero.badges.curated")]}),c.jsx("h1",{className:"font-serif text-5xl lg:text-6xl xl:text-7xl font-bold text-charcoal leading-tight mb-6",children:d("hero.headline").split(`
`).map((p,w)=>c.jsxs("span",{children:[w===1?c.jsx("span",{className:"text-gold-gradient",children:p}):p,w===0&&c.jsx("br",{})]},w))}),c.jsx("p",{className:"font-sans text-lg text-charcoal-soft leading-relaxed mb-8 max-w-lg",children:d("hero.subheadline")}),c.jsxs("div",{className:"flex flex-wrap gap-3 mb-10",children:[c.jsxs(xe,{size:"lg",onClick:()=>window.location.href="/shop",children:[d("hero.ctaPrimary"),c.jsx(fr,{className:"h-5 w-5 rtl:hidden"})]}),c.jsx(xe,{variant:"outline",size:"lg",onClick:()=>window.location.href="/contact",children:d("hero.ctaSecondary")})]}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-white border border-warm-gray rounded-full px-4 py-2 shadow-soft",children:[c.jsx("span",{className:"text-champagne",children:""}),c.jsx("span",{className:"text-sm font-sans font-medium text-charcoal",children:d("hero.badges.curated")})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-white border border-warm-gray rounded-full px-4 py-2 shadow-soft",children:[c.jsx("span",{className:"text-champagne",children:""}),c.jsx("span",{className:"text-sm font-sans font-medium text-charcoal",children:d("hero.badges.delivery")})]}),c.jsxs("div",{className:"flex items-center gap-2 bg-white border border-warm-gray rounded-full px-4 py-2 shadow-soft",children:[c.jsx("span",{className:"text-champagne",children:""}),c.jsx("span",{className:"text-sm font-sans font-medium text-charcoal",children:d("hero.badges.materials")})]})]})]}),c.jsx("div",{className:"relative animate-slide-up",children:c.jsxs("div",{className:"relative rounded-3xl overflow-hidden aspect-[4/5] max-h-[600px]",children:[c.jsx("img",{src:"/images/sections/hero-living-room.png",alt:"Premium modern living room with luxury furniture",className:"w-full h-full object-cover"}),c.jsxs("div",{className:"absolute bottom-6 rtl:right-6 bg-white/90 rtl:left-auto left-6 backdrop-blur-sm rounded-2xl p-4 shadow-hover",children:[c.jsx("p",{className:"text-2xl font-serif font-bold text-charcoal",children:"30+"}),c.jsx("p",{className:"text-xs font-sans text-stone",children:d("hero.stats.premiumPieces")})]}),c.jsxs("div",{className:"absolute top-6 right-6 rtl:left-6 rtl:right-auto bg-charcoal/90 backdrop-blur-sm rounded-2xl p-4 shadow-hover",children:[c.jsx("div",{className:"flex gap-0.5 mb-1",children:[1,2,3,4,5].map(p=>c.jsx(vy,{className:"h-3 w-3 fill-champagne text-champagne"},p))}),c.jsx("p",{className:"text-xs font-sans text-ivory",children:d("hero.stats.trusted")})]})]})})]})})]}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-14",children:[c.jsxs("div",{children:[c.jsx(Ne,{variant:"gold",className:"mb-4",children:d("featured.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl lg:text-5xl font-bold text-charcoal leading-tight mb-4",children:d("featured.headline").split(`
`).map((p,w)=>c.jsxs("span",{children:[p,w===0&&c.jsx("br",{})]},w))}),c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed mb-6",children:d("featured.description")}),c.jsx(q,{to:"/shop",children:c.jsxs(xe,{variant:"outline",children:[d("featured.cta"),c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("div",{className:"rounded-2xl overflow-hidden aspect-square",children:c.jsx("img",{src:"/images/sections/featured-collection-1.png",alt:"Premium furniture collection",className:"w-full h-full object-cover"})}),c.jsx("div",{className:"rounded-2xl overflow-hidden aspect-square mt-8",children:c.jsx("img",{src:"/images/products/oasis-velvet-sofa.png",alt:"Luxury velvet sofa",className:"w-full h-full object-cover"})})]})]}),a?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:Array.from({length:6}).map((p,w)=>c.jsx(Qi,{},w))}):t.length>0?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:t.map(p=>c.jsx(Mn,{...p},p.id))}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:Sd.slice(0,6).map(p=>c.jsx(Mn,{...p},p.id))})]})}),c.jsx("section",{className:"py-20 bg-ivory-dark",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx(Ne,{variant:"olive",className:"mb-4",children:d("collections.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl font-bold text-charcoal",children:d("collections.headline")})]}),c.jsx("div",{className:"flex justify-center mb-10",children:c.jsx(Ew,{items:[{key:"sofa",label:d("collections.tabs.sofa")},{key:"bed",label:d("collections.tabs.bed")},{key:"dining",label:d("collections.tabs.dining")}],active:s,onChange:i})}),c.jsx("div",{id:`tabpanel-${s}`,role:"tabpanel","aria-label":d(`collections.tabs.${s}`),children:l?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:Array.from({length:4}).map((p,w)=>c.jsx(Qi,{},w))}):r.length>0?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:r.map(p=>c.jsx(Mn,{...p},p.id))}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-5",children:Sd.filter(p=>p.category===s).slice(0,4).map(p=>c.jsx(Mn,{...p},p.id))})}),c.jsx("div",{className:"text-center mt-10",children:c.jsx(q,{to:`/shop?category=${s}`,children:c.jsxs(xe,{variant:"secondary",children:[d("collections.viewAll",{category:d(`collections.tabs.${s}`)}),c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})})})]})}),c.jsx("section",{className:"py-4 bg-charcoal overflow-hidden","aria-hidden":"true",children:c.jsx("div",{className:`flex ${h?"":"marquee-track"} gap-12 py-4`,children:(()=>{const p=d("marquee",{returnObjects:!0});return[...p,...p].map((w,_)=>c.jsxs("span",{className:"font-serif text-3xl font-bold text-champagne/40 whitespace-nowrap select-none",children:[w," ",c.jsx("span",{className:"text-champagne/20",children:""})]},_))})()})}),c.jsx("section",{className:"py-20 bg-ivory",children:c.jsx(ie,{children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-14 items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"rounded-3xl overflow-hidden aspect-square max-w-md",children:c.jsx("img",{src:"/images/sections/hero-living-room.png",alt:"Shahed Storee showroom",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"absolute -bottom-4 -right-4 bg-champagne text-charcoal rounded-2xl p-5 shadow-hover",children:[c.jsx("p",{className:"font-serif text-3xl font-bold",children:"7+"}),c.jsx("p",{className:"text-xs font-sans font-medium",children:"Years of Excellence"})]})]}),c.jsxs("div",{children:[c.jsx(Ne,{variant:"gold",className:"mb-4",children:d("aboutSection.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl font-bold text-charcoal mb-5",children:d("aboutSection.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed mb-8",children:d("aboutSection.body")}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"text-center bg-white rounded-2xl p-4 shadow-soft border border-warm-gray",children:[c.jsx("p",{className:"font-serif text-2xl font-bold text-champagne-dark",children:"30+"}),c.jsx("p",{className:"text-xs font-sans text-stone mt-1",children:d("aboutSection.stats.curated")})]}),c.jsxs("div",{className:"text-center bg-white rounded-2xl p-4 shadow-soft border border-warm-gray",children:[c.jsx("p",{className:"font-serif text-2xl font-bold text-champagne-dark",children:"100%"}),c.jsx("p",{className:"text-xs font-sans text-stone mt-1",children:d("aboutSection.stats.materials")})]}),c.jsxs("div",{className:"text-center bg-white rounded-2xl p-4 shadow-soft border border-warm-gray",children:[c.jsx("p",{className:"font-serif text-2xl font-bold text-champagne-dark",children:"KSA"}),c.jsx("p",{className:"text-xs font-sans text-stone mt-1",children:d("aboutSection.stats.coverage")})]})]}),c.jsx(q,{to:"/about",children:c.jsxs(xe,{variant:"outline",children:[d("aboutSection.cta")," ",c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})})]})]})})}),c.jsx("section",{className:"py-20 bg-olive-light",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"text-center mb-14",children:[c.jsx(Ne,{variant:"olive",className:"mb-4",children:d("quality.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl font-bold text-charcoal max-w-xl mx-auto",children:d("quality.headline").split(`
`).map((p,w)=>c.jsxs("span",{children:[p,w===0&&c.jsx("br",{})]},w))}),c.jsx("p",{className:"font-sans text-charcoal-soft mt-4 max-w-lg mx-auto",children:d("quality.description")})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-soft hover-lift",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-olive-light flex items-center justify-center mb-4 text-2xl",children:""}),c.jsx("h3",{className:"font-serif text-xl font-semibold text-charcoal mb-2",children:d("quality.pillars.sustainable.title")}),c.jsx("p",{className:"font-sans text-sm text-charcoal-soft leading-relaxed",children:d("quality.pillars.sustainable.desc")})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-soft hover-lift",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-olive-light flex items-center justify-center mb-4 text-2xl",children:""}),c.jsx("h3",{className:"font-serif text-xl font-semibold text-charcoal mb-2",children:d("quality.pillars.craftsmanship.title")}),c.jsx("p",{className:"font-sans text-sm text-charcoal-soft leading-relaxed",children:d("quality.pillars.craftsmanship.desc")})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-soft hover-lift",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-olive-light flex items-center justify-center mb-4 text-2xl",children:""}),c.jsx("h3",{className:"font-serif text-xl font-semibold text-charcoal mb-2",children:d("quality.pillars.delivery.title")}),c.jsx("p",{className:"font-sans text-sm text-charcoal-soft leading-relaxed",children:d("quality.pillars.delivery.desc")})]})]}),c.jsx("div",{className:"grid grid-cols-3 gap-4 mt-12",children:[{src:"/images/products/sahara-modular-sofa.png",alt:"Sustainable sofa craftsmanship"},{src:"/images/products/madina-dining-table.png",alt:"Premium dining table"},{src:"/images/products/al-madinah-king-bed.png",alt:"Quality bed craftsmanship"}].map((p,w)=>c.jsx("div",{className:"rounded-2xl overflow-hidden aspect-video",children:c.jsx("img",{src:p.src,alt:p.alt,className:"w-full h-full object-cover"})},w))})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsx(ie,{children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx(Ne,{variant:"stone",className:"mb-4",children:d("faqPreview.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl font-bold text-charcoal",children:d("faqPreview.headline")})]}),c.jsx(dp,{items:v}),c.jsx("div",{className:"text-center mt-8",children:c.jsx(q,{to:"/faq",children:c.jsxs(xe,{variant:"ghost",children:[d("faqPreview.cta")," ",c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})})})]})})}),c.jsx("section",{className:"py-16 bg-ivory-dark",children:c.jsx(ie,{children:c.jsxs("div",{className:"bg-charcoal rounded-3xl p-10 lg:p-16 text-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute -top-20 -left-20 w-80 h-80 bg-champagne/10 rounded-full pointer-events-none"}),c.jsx("div",{className:"absolute -bottom-20 -right-20 w-80 h-80 bg-champagne/5 rounded-full pointer-events-none"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx(Ne,{variant:"gold",className:"mb-6",children:d("ctaBanner.badge")}),c.jsx("h2",{className:"font-serif text-4xl lg:text-5xl font-bold text-ivory mb-4",children:d("ctaBanner.headline").split(`
`).map((p,w)=>c.jsxs("span",{children:[p,w===0&&c.jsx("br",{})]},w))}),c.jsx("p",{className:"font-sans text-stone-light max-w-lg mx-auto mb-8",children:d("ctaBanner.subheadline")}),c.jsx("a",{href:As(`Hello ${Ve.name}! I'd like to explore your furniture collection.`),target:"_blank",rel:"noopener noreferrer",children:c.jsx(xe,{size:"lg",className:"bg-champagne text-charcoal hover:bg-champagne-dark",children:d("ctaBanner.cta")})})]})]})})})]})}const Sd=[{id:"a1",name:"Sahara Modular Sofa",slug:"sahara-modular-sofa",category:"sofa",material:"Italian Leather",price_sar:8500,is_featured:!0,imageUrl:"/images/products/sahara-modular-sofa.png"},{id:"a2",name:"Al Madinah King Bed",slug:"al-madinah-king-bed",category:"bed",material:"Solid Walnut",price_sar:6200,is_featured:!0,imageUrl:"/images/products/al-madinah-king-bed.png"},{id:"a3",name:"Madina Dining Table",slug:"madina-dining-table",category:"dining",material:"Sintered Stone",price_sar:12e3,is_featured:!0,imageUrl:"/images/products/madina-dining-table.png"},{id:"a4",name:"Oasis Velvet Sofa",slug:"oasis-velvet-sofa",category:"sofa",material:"Premium Velvet",price_sar:7300,is_featured:!0,imageUrl:"/images/products/oasis-velvet-sofa.png"},{id:"a5",name:"Dune Platform Bed",slug:"dune-platform-bed",category:"bed",material:"Oak Wood",price_sar:5400,is_featured:!1,imageUrl:"/images/products/dune-platform-bed.png"},{id:"a6",name:"Sultana Dining Set",slug:"sultana-dining-set",category:"dining",material:"Teak + Travertine",price_sar:9800,is_featured:!1,imageUrl:"/images/products/sultana-dining-set.png"}],a_=[{key:"",label:"All"},{key:"sofa",label:"Sofas"},{key:"bed",label:"Beds"},{key:"dining",label:"Dining"}],o_=[{value:"",label:"Default"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"},{value:"name_asc",label:"Name: AZ"}];function l_({selectedCategory:t,onCategoryChange:e,selectedMaterial:r,onMaterialChange:n,sortBy:s,onSortChange:i,materials:a,resultCount:o}){return c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between bg-white border border-warm-gray rounded-2xl p-4 shadow-soft",children:[c.jsx("div",{className:"flex gap-2 flex-wrap",role:"group","aria-label":"Filter by category",children:a_.map(l=>c.jsx("button",{onClick:()=>e(l.key),"aria-pressed":t===l.key,className:`px-4 py-2 rounded-full text-sm font-sans font-medium transition-all duration-200 ${t===l.key?"bg-champagne text-charcoal":"bg-warm-gray text-stone hover:bg-champagne-light hover:text-champagne-dark"}`,children:l.label},l.key))}),c.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"material-filter",className:"sr-only",children:"Filter by material"}),c.jsxs("select",{id:"material-filter",value:r,onChange:l=>n(l.target.value),className:"appearance-none bg-warm-gray text-stone text-sm font-sans rounded-full px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-champagne transition-colors hover:bg-champagne-light",children:[c.jsx("option",{value:"",children:"All Materials"}),a.map(l=>c.jsx("option",{value:l,children:l},l))]}),c.jsx(sl,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-stone pointer-events-none"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"sort-select",className:"sr-only",children:"Sort by"}),c.jsx("select",{id:"sort-select",value:s,onChange:l=>i(l.target.value),className:"appearance-none bg-warm-gray text-stone text-sm font-sans rounded-full px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-champagne transition-colors hover:bg-champagne-light",children:o_.map(l=>c.jsx("option",{value:l.value,children:l.label},l.value))}),c.jsx(sl,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-stone pointer-events-none"})]}),c.jsxs("span",{className:"text-xs text-stone font-sans whitespace-nowrap",children:[o," pieces"]})]})]})}const ao=[{id:"a1",name:"Sahara Modular Sofa",slug:"sahara-modular-sofa",category:"sofa",material:"Italian Leather",price_sar:8500,is_featured:!0,imageUrl:"/images/products/sahara-modular-sofa.png"},{id:"a2",name:"Oasis Velvet Sofa",slug:"oasis-velvet-sofa",category:"sofa",material:"Premium Velvet",price_sar:7300,is_featured:!0,imageUrl:"/images/products/oasis-velvet-sofa.png"},{id:"a3",name:"Desert Wind Sofa",slug:"desert-wind-sofa",category:"sofa",material:"Boucle Fabric",price_sar:6100,is_featured:!1,imageUrl:"/images/products/desert-wind-sofa.png"},{id:"a4",name:"Mirage L-Shape",slug:"mirage-l-shape",category:"sofa",material:"Microfiber",price_sar:9200,is_featured:!1,imageUrl:"/images/products/mirage-l-shape.png"},{id:"a5",name:"Al Noor Sectional",slug:"al-noor-sectional",category:"sofa",material:"Linen Blend",price_sar:11500,is_featured:!0,imageUrl:"/images/products/al-noor-sectional.png"},{id:"b1",name:"Al Madinah King Bed",slug:"al-madinah-king-bed",category:"bed",material:"Solid Walnut",price_sar:6200,is_featured:!0,imageUrl:"/images/products/al-madinah-king-bed.png"},{id:"b2",name:"Dune Platform Bed",slug:"dune-platform-bed",category:"bed",material:"Oak Wood",price_sar:5400,is_featured:!1,imageUrl:"/images/products/dune-platform-bed.png"},{id:"b3",name:"Raha Upholstered Bed",slug:"raha-upholstered-bed",category:"bed",material:"Velvet Headboard",price_sar:7800,is_featured:!0,imageUrl:"/images/products/raha-upholstered-bed.png"},{id:"b4",name:"Serenity Panel Bed",slug:"serenity-panel-bed",category:"bed",material:"MDF + Leather",price_sar:4900,is_featured:!1,imageUrl:"/images/products/serenity-panel-bed.png"},{id:"b5",name:"Horizon Canopy Bed",slug:"horizon-canopy-bed",category:"bed",material:"Iron + Fabric",price_sar:8400,is_featured:!1,imageUrl:"/images/products/horizon-canopy-bed.png"},{id:"c1",name:"Madina Dining Table",slug:"madina-dining-table",category:"dining",material:"Sintered Stone",price_sar:12e3,is_featured:!0,imageUrl:"/images/products/madina-dining-table.png"},{id:"c2",name:"Sultana Dining Set",slug:"sultana-dining-set",category:"dining",material:"Teak + Travertine",price_sar:9800,is_featured:!1,imageUrl:"/images/products/sultana-dining-set.png"},{id:"c3",name:"Majlis Round Table",slug:"majlis-round-table",category:"dining",material:"Marble Top",price_sar:14500,is_featured:!0,imageUrl:"/images/products/majlis-round-table.png"},{id:"c4",name:"Breeze Dining Chairs",slug:"breeze-dining-chairs",category:"dining",material:"Rattan + Foam",price_sar:2800,is_featured:!1,imageUrl:"/images/products/breeze-dining-chairs.png"},{id:"c5",name:"Amber Buffet Cabinet",slug:"amber-buffet-cabinet",category:"dining",material:"Acacia Wood",price_sar:6700,is_featured:!1,imageUrl:"/images/products/amber-buffet-cabinet.png"}];function u_(){const{t}=ht(),[e,r]=ly(),[n,s]=b.useState([]),[i,a]=b.useState(!0),[o,l]=b.useState(null),[u,h]=b.useState(!1),d=e.get("category")||"",f=e.get("material")||"",v=e.get("sort")||"";b.useEffect(()=>{async function y(){a(!0),l(null);try{let m=br.from("products").select("*");d&&(m=m.eq("category",d)),f&&(m=m.eq("material",f)),v==="price_asc"?m=m.order("price_sar",{ascending:!0}):v==="price_desc"?m=m.order("price_sar",{ascending:!1}):v==="name_asc"?m=m.order("name",{ascending:!0}):m=m.order("created_at",{ascending:!1});const{data:g,error:x}=await m;if(x)throw x;!g||g.length===0?(h(!0),s(ao)):(h(!1),s(g))}catch{h(!0),s(ao)}finally{a(!1)}}y()},[d,f,v]);const p=b.useMemo(()=>[...new Set(ao.map(y=>y.material))],[]),w=b.useMemo(()=>{let y=[...n];return u&&d&&(y=y.filter(m=>m.category===d)),u&&f&&(y=y.filter(m=>m.material===f)),u&&(v==="price_asc"?y.sort((m,g)=>m.price_sar-g.price_sar):v==="price_desc"?y.sort((m,g)=>g.price_sar-m.price_sar):v==="name_asc"&&y.sort((m,g)=>m.name.localeCompare(g.name))),y},[n,u,d,f,v]);function _(){r({})}return c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("p",{className:"text-sm font-sans text-stone mb-1",children:[c.jsx("a",{href:"/",className:"hover:text-champagne transition-colors",children:t("nav.home")}),c.jsx("span",{className:"mx-2 rtl:rotate-180 inline-block",children:""}),t("nav.shop")]}),c.jsx("h1",{className:"font-serif text-4xl font-bold text-charcoal",children:t("shopPage.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft mt-2",children:t("shopPage.subheadline")})]}),c.jsx(l_,{selectedCategory:d,onCategoryChange:y=>r(m=>{const g=new URLSearchParams(m);return y?g.set("category",y):g.delete("category"),g}),selectedMaterial:f,onMaterialChange:y=>r(m=>{const g=new URLSearchParams(m);return y?g.set("material",y):g.delete("material"),g}),sortBy:v,onSortChange:y=>r(m=>{const g=new URLSearchParams(m);return y?g.set("sort",y):g.delete("sort"),g}),materials:p,resultCount:w.length}),c.jsxs("div",{className:"mt-8",children:[i&&c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((y,m)=>c.jsx(Qi,{},m))}),o&&!i&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[c.jsx(Xf,{className:"h-14 w-14 text-stone mb-4"}),c.jsx("h3",{className:"font-serif text-2xl font-semibold text-charcoal mb-2",children:t("common.error")}),c.jsx("p",{className:"text-charcoal-soft font-sans mb-6",children:o}),c.jsx(xe,{onClick:()=>window.location.reload(),children:t("common.tryAgain")})]}),!i&&!o&&w.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[c.jsx(gy,{className:"h-14 w-14 text-stone mb-4"}),c.jsx("h3",{className:"font-serif text-2xl font-semibold text-charcoal mb-2",children:t("shopPage.empty.title")}),c.jsx("p",{className:"text-charcoal-soft font-sans mb-6",children:t("shopPage.empty.subtitle")}),c.jsx(xe,{onClick:_,variant:"outline",children:t("shopPage.empty.clearFilters")})]}),!i&&!o&&w.length>0&&c.jsxs(c.Fragment,{children:[u&&c.jsx("div",{className:"mb-6",children:c.jsx(Ne,{variant:"stone",children:"Demo Mode  Connect Supabase to load real products"})}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map(y=>c.jsx(Mn,{...y},y.id))})]})]})]})})}const Ln=["from-champagne-light to-ivory-dark","from-olive-light to-warm-gray","from-stone-light to-champagne-light"];function c_({images:t,productName:e}){const[r,n]=b.useState(0),s=t.length>0?t:Ln.map((l,u)=>({url:"",alt:`${e} view ${u+1}`})),i=()=>n(l=>l===0?s.length-1:l-1),a=()=>n(l=>l===s.length-1?0:l+1),o=s[r];return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"relative rounded-2xl overflow-hidden aspect-[4/3] bg-ivory-dark",children:[o.url?c.jsx("img",{src:o.url,alt:o.alt||e,className:"w-full h-full object-cover transition-opacity duration-300"}):c.jsx("div",{className:H("w-full h-full bg-gradient-to-br flex items-center justify-center",Ln[r%Ln.length]),children:c.jsx("span",{className:"font-serif text-8xl text-champagne opacity-20 select-none",children:e.charAt(0)})}),s.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:i,"aria-label":"Previous image",className:"absolute left-3 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-card hover:bg-white transition-all",children:c.jsx(dy,{className:"h-5 w-5 text-charcoal"})}),c.jsx("button",{onClick:a,"aria-label":"Next image",className:"absolute right-3 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-card hover:bg-white transition-all",children:c.jsx(xi,{className:"h-5 w-5 text-charcoal"})})]}),s.length>1&&c.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5",children:s.map((l,u)=>c.jsx("button",{onClick:()=>n(u),"aria-label":`Go to image ${u+1}`,className:H("w-2 h-2 rounded-full transition-all duration-200",u===r?"bg-champagne w-4":"bg-white/60 hover:bg-white")},u))})]}),s.length>1&&c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:s.map((l,u)=>c.jsx("button",{onClick:()=>n(u),"aria-label":`View image ${u+1}`,className:H("flex-shrink-0 w-16 h-16 rounded-xl overflow-hidden border-2 transition-all duration-200",u===r?"border-champagne":"border-transparent hover:border-champagne-light"),children:l.url?c.jsx("img",{src:l.url,alt:"",className:"w-full h-full object-cover"}):c.jsx("div",{className:H("w-full h-full bg-gradient-to-br",Ln[u%Ln.length])})},u))})]})}function d_(t){const e=new Map;for(const r of t){const n=e.get(r.variant_name)||[];n.push(r),e.set(r.variant_name,n)}return Array.from(e.entries()).map(([r,n])=>({name:r,options:n}))}function h_({variants:t,selected:e,onChange:r}){const n=d_(t);return n.length===0?null:c.jsx("div",{className:"space-y-5",children:n.map(s=>c.jsxs("div",{children:[c.jsxs("p",{className:"font-sans text-sm font-semibold text-charcoal mb-2",children:[s.name,":"," ",c.jsx("span",{className:"text-champagne-dark font-medium",children:e[s.name]||"Select"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",role:"radiogroup","aria-label":s.name,children:s.options.map(i=>{const a=e[s.name]===i.variant_value;return c.jsxs("button",{role:"radio","aria-checked":a,onClick:()=>r(s.name,i.variant_value),className:H("px-4 py-2 rounded-full text-sm font-sans font-medium border-2 transition-all duration-200",a?"border-champagne bg-champagne-light text-champagne-dark":"border-warm-gray bg-white text-charcoal-soft hover:border-champagne-light"),children:[i.variant_value,i.price_delta!==0&&c.jsxs("span",{className:"ml-1 text-xs text-stone",children:[i.price_delta>0?`+${i.price_delta}`:i.price_delta," SAR"]})]},i.id)})})]},s.name))})}function f_({currentSlug:t,category:e}){const[r,n]=b.useState([]),[s,i]=b.useState(!0);return b.useEffect(()=>{async function a(){i(!0);const{data:o}=await br.from("products").select("id,name,slug,category,material,price_sar,is_featured").eq("category",e).neq("slug",t).limit(4);n(o||[]),i(!1)}a()},[t,e]),!s&&r.length===0?null:c.jsxs("section",{"aria-label":"Related products",children:[c.jsx("h2",{className:"font-serif text-2xl font-semibold text-charcoal mb-6",children:"You May Also Like"}),s?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((a,o)=>c.jsx(Qi,{},o))}):c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map(a=>c.jsxs(q,{to:`/product/${a.slug}`,className:"group block rounded-xl overflow-hidden border border-warm-gray hover:shadow-card-hover hover:-translate-y-1 transition-all duration-300","aria-label":a.name,children:[c.jsx("div",{className:"h-44 bg-gradient-to-br from-champagne-light to-ivory-dark flex items-center justify-center",children:c.jsx("span",{className:"font-serif text-4xl text-champagne opacity-30",children:a.name.charAt(0)})}),c.jsxs("div",{className:"p-3 bg-white",children:[c.jsx("p",{className:"font-serif text-sm font-semibold text-charcoal group-hover:text-champagne-dark transition-colors line-clamp-1",children:a.name}),c.jsx("p",{className:"text-xs text-stone font-sans",children:Ji(a.price_sar)})]})]},a.id))})]})}const p_=["Madina","Jeddah","Dammam","Makkah","Madinah","Khobar","Taif","Abha","Tabuk","Qassim","Other area"],kd={id:"demo",name:"Sahara Modular Sofa",slug:"sahara-modular-sofa",category:"sofa",material:"Italian Leather",description:"The Sahara Modular Sofa brings together the finest Italian leather with precision engineering. Its modular design allows you to configure it to perfectly suit your space. The low-profile silhouette and deep cushions provide unmatched comfort, while the clean lines make it a timeless statement piece.",price_sar:8500,is_featured:!0},jd=[{id:"v1",variant_name:"Size",variant_value:"2-Seater",price_delta:0},{id:"v2",variant_name:"Size",variant_value:"3-Seater",price_delta:1200},{id:"v3",variant_name:"Size",variant_value:"L-Shape",price_delta:2500},{id:"v4",variant_name:"Color",variant_value:"Ivory White",price_delta:0},{id:"v5",variant_name:"Color",variant_value:"Cognac Brown",price_delta:0},{id:"v6",variant_name:"Color",variant_value:"Charcoal Grey",price_delta:0}];function m_(){const{t}=ht(),{slug:e}=Lv(),[r,n]=b.useState(null),[s,i]=b.useState([]),[a,o]=b.useState([]),[l,u]=b.useState(!0),[h,d]=b.useState(null),[f,v]=b.useState({}),[p,w]=b.useState("");b.useEffect(()=>{async function g(){if(e){u(!0),d(null);try{const{data:x,error:S}=await br.from("products").select("*").eq("slug",e).single();if(S||!x){n(kd),i(jd),o([]);return}n(x);const[{data:k},{data:E}]=await Promise.all([br.from("product_variants").select("*").eq("product_id",x.id),br.from("product_images").select("*").eq("product_id",x.id)]);i(k||[]),o(E||[])}catch{n(kd),i(jd),o([])}finally{u(!1)}}}g()},[e]);function _(g,x){v(S=>({...S,[g]:x}))}function y(){if(!r)return"#";const g=Object.entries(f).map(([S,k])=>`${S}: ${k}`).join(", ")||"Default",x=Sy({productName:r.name,material:r.material,variants:g,area:p||"Not specified"});return As(x)}const m=r?r.price_sar+s.filter(g=>f[g.variant_name]===g.variant_value).reduce((g,x)=>g+x.price_delta,0):0;return l?c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsx(ie,{children:c.jsx(Cw,{})})}):h?c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsx(ie,{children:c.jsxs("div",{className:"flex flex-col items-center py-20 text-center",children:[c.jsx(Xf,{className:"h-14 w-14 text-stone mb-4"}),c.jsx("h2",{className:"font-serif text-2xl font-semibold text-charcoal mb-2",children:t("common.error")}),c.jsx("p",{className:"text-charcoal-soft mb-6",children:h}),c.jsx(q,{to:"/shop",children:c.jsx(xe,{children:t("shopPage.empty.clearFilters")})})]})})}):r?c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsxs(ie,{children:[c.jsxs("nav",{className:"flex items-center gap-1 text-sm font-sans text-stone mb-8","aria-label":"Breadcrumb",children:[c.jsx(q,{to:"/",className:"hover:text-champagne transition-colors",children:t("nav.home")}),c.jsx(xi,{className:"h-4 w-4 rtl:rotate-180"}),c.jsx(q,{to:"/shop",className:"hover:text-champagne transition-colors",children:t("nav.shop")}),c.jsx(xi,{className:"h-4 w-4 rtl:rotate-180"}),c.jsx("span",{className:"text-charcoal-soft capitalize",children:t(`collections.tabs.${r.category}`)}),c.jsx(xi,{className:"h-4 w-4 rtl:rotate-180"}),c.jsx("span",{className:"text-charcoal line-clamp-1",children:r.name})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 mb-16",children:[c.jsx(c_,{images:a.map(g=>({url:g.url,alt:g.alt||r.name})),productName:r.name}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[c.jsx(Ne,{variant:"stone",className:"capitalize",children:t(`collections.tabs.${r.category}`)}),r.is_featured&&c.jsx(Ne,{variant:"gold",children:t("common.featured")})]}),c.jsx("h1",{className:"font-serif text-3xl lg:text-4xl font-bold text-charcoal mb-2",children:r.name}),c.jsx("p",{className:"font-sans text-charcoal-soft mb-4",children:r.material}),c.jsx("p",{className:"font-serif text-3xl font-bold text-champagne-dark mb-6",children:Ji(m)}),r.description&&c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed mb-8 border-b border-warm-gray pb-8",children:r.description}),s.length>0&&c.jsx("div",{className:"mb-8",children:c.jsx(h_,{variants:s,selected:f,onChange:_})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("label",{className:"block font-sans text-sm font-semibold text-charcoal mb-2",htmlFor:"area-selector",children:t("checkout.form.city")}),c.jsxs("div",{className:"flex items-center gap-2 bg-warm-gray rounded-xl p-1 border border-transparent focus-within:border-champagne-light transition-colors",children:[c.jsx(gu,{className:"h-4 w-4 text-champagne rtl:mr-2 ltr:ml-2 flex-shrink-0"}),c.jsxs("select",{id:"area-selector",value:p,onChange:g=>w(g.target.value),className:"flex-1 bg-transparent text-sm font-sans text-charcoal py-2 rtl:pl-2 ltr:pr-2 focus:outline-none",children:[c.jsx("option",{value:"",children:t("checkout.form.cityPlaceholder")}),p_.map(g=>c.jsx("option",{value:g,children:g},g))]})]}),c.jsxs("p",{className:"text-xs text-stone mt-1.5 flex items-center gap-1.5",children:[c.jsx(yy,{className:"h-3 w-3"}),t("policiesPage.shipping.subtitle")]})]}),c.jsxs("a",{href:y(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full py-4 px-6 bg-[#25D366] text-white font-semibold font-sans rounded-full hover:bg-[#1ebe59] hover:-translate-y-0.5 transition-all duration-200 shadow-card hover:shadow-hover mb-4","aria-label":`Order ${r.name} on WhatsApp`,children:[c.jsx(tr,{className:"h-5 w-5"}),t("checkout.summary.submit")]}),c.jsx("p",{className:"text-xs text-center text-stone font-sans",children:t("contactPage.form.disclaimer")})]})]}),c.jsx(f_,{currentSlug:e||"",category:r.category})]})}):null}function g_({className:t,gradient:e}){return c.jsx("div",{className:`bg-gradient-to-br ${e||"from-champagne-light to-ivory-dark"} flex items-center justify-center ${t||""}`,children:c.jsx("span",{className:"font-serif text-6xl text-champagne opacity-20 select-none",children:""})})}function v_(){const{t}=ht();return c.jsxs("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:[c.jsx("section",{className:"py-20 bg-ivory",children:c.jsx(ie,{children:c.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[c.jsx(Ne,{variant:"gold",className:"mb-4",children:t("nav.about")}),c.jsx("h1",{className:"font-serif text-5xl font-bold text-charcoal mb-6",children:t("aboutPage.headline").split(`
`).map((e,r)=>c.jsxs("span",{children:[e,r===0&&c.jsx("br",{})]},r))}),c.jsx("p",{className:"font-sans text-charcoal-soft text-lg leading-relaxed",children:t("aboutPage.body.0")})]})})}),c.jsx("section",{className:"py-16 bg-white",children:c.jsx(ie,{children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-14 items-center",children:[c.jsx("div",{className:"rounded-3xl overflow-hidden aspect-square max-w-lg",children:c.jsx(g_,{className:"w-full h-full",gradient:"from-champagne-light to-stone-light"})}),c.jsx("div",{className:"space-y-5",children:t("aboutPage.body",{returnObjects:!0}).map((r,n)=>c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed",children:r},n))})]})})}),c.jsx("section",{className:"py-16 bg-ivory-dark",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(Ne,{variant:"olive",className:"mb-4",children:t("aboutPage.values.eyebrow")}),c.jsx("h2",{className:"font-serif text-4xl font-bold text-charcoal",children:t("aboutPage.values.headline")})]}),c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:(()=>{const e=t("aboutPage.values.items",{returnObjects:!0}),r=["","","",""];return e.map((n,s)=>c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-soft hover-lift",children:[c.jsx("div",{className:"text-3xl mb-4",children:n.icon||r[s]}),c.jsx("h3",{className:"font-serif text-xl font-semibold text-charcoal mb-2",children:n.title}),c.jsx("p",{className:"font-sans text-sm text-charcoal-soft leading-relaxed",children:n.description})]},n.title))})()})]})}),c.jsx("section",{className:"py-16 bg-charcoal",children:c.jsx(ie,{children:c.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-serif text-5xl font-bold text-champagne mb-2",children:"30+"}),c.jsx("p",{className:"font-sans text-stone-light",children:t("aboutSection.stats.curated")})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-serif text-5xl font-bold text-champagne mb-2",children:"100%"}),c.jsx("p",{className:"font-sans text-stone-light",children:t("aboutSection.stats.materials")})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-serif text-5xl font-bold text-champagne mb-2",children:"KSA"}),c.jsx("p",{className:"font-sans text-stone-light",children:t("aboutSection.stats.coverage")})]})]})})}),c.jsx("section",{className:"py-16 bg-ivory",children:c.jsx(ie,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"font-serif text-3xl font-bold text-charcoal mb-2",children:t("aboutPage.cta.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft",children:t("aboutPage.cta.subheadline")})]}),c.jsxs("div",{className:"flex gap-3 rtl:mr-6 ltr:ml-6",children:[c.jsx(q,{to:"/shop",children:c.jsxs(xe,{children:[t("aboutPage.cta.primary")," ",c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})}),c.jsx("a",{href:As(`Hello ${Ve.name}! I'd like to learn more about your story and products.`),target:"_blank",rel:"noopener noreferrer",children:c.jsx(xe,{variant:"outline",children:t("aboutPage.cta.secondary")})})]})]})})})]})}function y_(){const[t,e]=b.useState({name:"",phone:"",message:""}),{t:r}=ht();function n(s){s.preventDefault();const i=ky(t);window.open(As(i),"_blank","noopener,noreferrer")}return c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsxs(ie,{children:[c.jsxs("div",{className:"max-w-lg mx-auto text-center mb-12",children:[c.jsx(Ne,{variant:"gold",className:"mb-4",children:r("nav.contact")}),c.jsx("h1",{className:"font-serif text-4xl lg:text-5xl font-bold text-charcoal mb-4",children:r("contactPage.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed",children:r("contactPage.subheadline")})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-10 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-card border border-warm-gray",children:[c.jsx("h2",{className:"font-serif text-2xl font-semibold text-charcoal mb-6",children:r("contactPage.form.title")}),c.jsxs("form",{onSubmit:n,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contact-name",className:"block text-sm font-semibold font-sans text-charcoal mb-1.5",children:r("contactPage.form.nameLabel")}),c.jsx("input",{id:"contact-name",type:"text",required:!0,value:t.name,onChange:s=>e(i=>({...i,name:s.target.value})),placeholder:r("contactPage.form.namePlaceholder"),className:"w-full bg-ivory-dark border border-warm-gray rounded-xl px-4 py-3 font-sans text-sm text-charcoal placeholder:text-stone focus:outline-none focus:ring-2 focus:ring-champagne transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contact-phone",className:"block text-sm font-semibold font-sans text-charcoal mb-1.5",children:r("contactPage.form.phoneLabel")}),c.jsx("input",{id:"contact-phone",type:"tel",required:!0,value:t.phone,onChange:s=>e(i=>({...i,phone:s.target.value})),placeholder:r("contactPage.form.phonePlaceholder"),className:"w-full bg-ivory-dark border border-warm-gray rounded-xl px-4 py-3 font-sans text-sm text-charcoal placeholder:text-stone focus:outline-none focus:ring-2 focus:ring-champagne transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"contact-msg",className:"block text-sm font-semibold font-sans text-charcoal mb-1.5",children:r("contactPage.form.messageLabel")}),c.jsx("textarea",{id:"contact-msg",required:!0,rows:4,value:t.message,onChange:s=>e(i=>({...i,message:s.target.value})),placeholder:r("contactPage.form.messagePlaceholder"),className:"w-full bg-ivory-dark border border-warm-gray rounded-xl px-4 py-3 font-sans text-sm text-charcoal placeholder:text-stone focus:outline-none focus:ring-2 focus:ring-champagne transition-all resize-none"})]}),c.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 bg-[#25D366] text-white font-semibold font-sans py-3.5 rounded-full hover:bg-[#1ebe59] transition-all duration-200 hover:-translate-y-0.5 shadow-card hover:shadow-hover",children:[c.jsx(tr,{className:"h-5 w-5"}),r("contactPage.form.submit")]}),c.jsx("p",{className:"text-xs text-center text-stone font-sans",children:r("contactPage.form.disclaimer")})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-champagne-light rounded-3xl p-8",children:[c.jsx("h2",{className:"font-serif text-2xl font-semibold text-charcoal mb-6",children:r("contactPage.info.title")}),c.jsxs("ul",{className:"space-y-5",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full bg-champagne flex items-center justify-center flex-shrink-0",children:c.jsx(gu,{className:"h-4 w-4 text-charcoal"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-sans font-semibold text-charcoal text-sm",children:r("contactPage.info.address")}),c.jsx("p",{className:"font-sans text-charcoal-soft text-sm",children:Ve.address})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full bg-champagne flex items-center justify-center flex-shrink-0",children:c.jsx(Zf,{className:"h-4 w-4 text-charcoal"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-sans font-semibold text-charcoal text-sm",children:r("contactPage.info.phone")}),c.jsx("a",{href:`tel:${Ve.phone}`,className:"font-sans text-charcoal-soft text-sm hover:text-champagne-dark transition-colors",children:Ve.phone})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full bg-champagne flex items-center justify-center flex-shrink-0",children:c.jsx(hy,{className:"h-4 w-4 text-charcoal"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-sans font-semibold text-charcoal text-sm",children:r("contactPage.info.hoursLabel")}),c.jsx("p",{className:"font-sans text-charcoal-soft text-sm",children:r("contactPage.info.hours")})]})]})]})]}),c.jsxs("a",{href:Ls,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 bg-charcoal text-ivory rounded-3xl p-6 hover:bg-charcoal-soft transition-colors duration-200 group",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#25D366] flex items-center justify-center flex-shrink-0",children:c.jsx(tr,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-sans font-semibold text-ivory",children:r("contactPage.whatsapp.title")}),c.jsx("p",{className:"text-sm text-stone-light",children:r("contactPage.whatsapp.subtitle")})]})]})]})]})]})})}function w_(){const{t}=ht(),r=(t("faqs",{returnObjects:!0})||[]).map((n,s)=>({id:String(s),question:n.q,answer:n.a}));return c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsx(ie,{children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(Ne,{variant:"gold",className:"mb-4",children:t("nav.faq")}),c.jsx("h1",{className:"font-serif text-5xl font-bold text-charcoal mb-4",children:t("faqPage.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft leading-relaxed",children:t("faqPage.subheadline")})]}),c.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-card border border-warm-gray mb-10",children:c.jsx(dp,{items:r})}),c.jsxs("div",{className:"bg-champagne-light rounded-2xl p-8 text-center",children:[c.jsx("p",{className:"font-serif text-2xl font-semibold text-charcoal mb-2",children:t("faqPage.cta.headline")}),c.jsx("p",{className:"font-sans text-charcoal-soft mb-5",children:t("faqPage.cta.subheadline")}),c.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[c.jsx("a",{href:As(`Hello ${Ve.name}! I have a question.`),target:"_blank",rel:"noopener noreferrer",children:c.jsx(xe,{children:t("faqPage.cta.primary")})}),c.jsx(q,{to:"/contact",children:c.jsxs(xe,{variant:"outline",children:[t("faqPage.cta.secondary")," ",c.jsx(fr,{className:"h-4 w-4 rtl:hidden"})]})})]})]})]})})})}const x_=["shipping","returns","privacy","terms"];function __(t){return t.split(`
`).map((e,r)=>{if(e.startsWith("**")&&e.endsWith("**")){const s=e.slice(2,-2);return c.jsx("h3",{className:"font-sans font-bold text-charcoal mt-5 mb-2",children:s},r)}if(e.startsWith("- "))return c.jsx("li",{className:"font-sans text-charcoal-soft text-sm ml-4 list-disc",children:e.slice(2)},r);if(e==="")return c.jsx("br",{},r);const n=e.split(/\*\*(.*?)\*\*/g);return c.jsx("p",{className:"font-sans text-charcoal-soft text-sm leading-relaxed",children:n.map((s,i)=>i%2===1?c.jsx("strong",{className:"font-semibold text-charcoal",children:s},i):s)},r)})}function b_(){const{t}=ht(),[e,r]=b.useState("shipping"),n=t(`policiesPage.${e}.title`),s=t(`policiesPage.${e}.content`);return c.jsx("main",{className:"min-h-screen bg-ivory pt-24 pb-16",children:c.jsx(ie,{children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-10",children:[c.jsx(Ne,{variant:"stone",className:"mb-4",children:t("footer.policies")}),c.jsx("h1",{className:"font-serif text-4xl font-bold text-charcoal",children:t("policiesPage.headline")})]}),c.jsxs("div",{className:"grid md:grid-cols-[220px_1fr] gap-8",children:[c.jsx("nav",{"aria-label":"Policy sections",children:c.jsx("ul",{className:"space-y-1",role:"list",children:x_.map(i=>c.jsx("li",{children:c.jsx("a",{href:`#${i}`,id:i,onClick:a=>{a.preventDefault(),r(i)},className:`block px-4 py-3 rounded-xl font-sans font-medium text-sm transition-all duration-200 ${e===i?"bg-champagne-light text-champagne-dark":"text-charcoal-soft hover:bg-warm-gray hover:text-charcoal"}`,children:t(`policiesPage.sections.${i}`)})},i))})}),c.jsxs("article",{className:"bg-white rounded-3xl p-8 shadow-card border border-warm-gray",children:[c.jsx("h2",{className:"font-serif text-2xl font-bold text-charcoal mb-6 pb-4 border-b border-warm-gray",children:n}),c.jsx("div",{className:"prose-sm space-y-1",children:__(s)})]})]})]})})})}function S_(){return c.jsx(sy,{children:c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(bw,{}),c.jsx("div",{className:"flex-1",children:c.jsxs(Qv,{children:[c.jsx(_t,{path:"/",element:c.jsx(i_,{})}),c.jsx(_t,{path:"/shop",element:c.jsx(u_,{})}),c.jsx(_t,{path:"/product/:slug",element:c.jsx(m_,{})}),c.jsx(_t,{path:"/about",element:c.jsx(v_,{})}),c.jsx(_t,{path:"/contact",element:c.jsx(y_,{})}),c.jsx(_t,{path:"/faq",element:c.jsx(w_,{})}),c.jsx(_t,{path:"/policies",element:c.jsx(b_,{})}),c.jsx(_t,{path:"*",element:c.jsx(k_,{})})]})}),c.jsx(Sw,{}),c.jsx(kw,{})]})})}function k_(){return c.jsx("main",{className:"min-h-screen bg-ivory flex items-center justify-center pt-24",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-serif text-8xl font-bold text-champagne mb-4",children:"404"}),c.jsx("h1",{className:"font-serif text-3xl font-bold text-charcoal mb-3",children:"Page not found"}),c.jsx("p",{className:"font-sans text-charcoal-soft mb-8",children:"The page you're looking for doesn't exist."}),c.jsx("a",{href:"/",className:"inline-flex items-center gap-2 bg-champagne text-charcoal font-semibold rounded-full px-6 py-3 hover:bg-champagne-dark transition-all duration-200",children:"Return Home"})]})})}const j_={name:"Shahed Storee",tagline:"Timeless Furniture, Crafted for Modern Living",subTagline:"Discover premium furniture pieces that blend luxury craftsmanship with contemporary design  made for discerning Saudi homes.",address:"Madina, Kingdom of Saudi Arabia",whatsappLabel:"Chat on WhatsApp"},E_={loading:"Loading...",error:"Something went wrong",tryAgain:"Try again",backToHome:"Back to Home",shopNow:"Shop Now",viewAll:"View All",sar:"SAR",chatOnWhatsapp:"Chat on WhatsApp to Order"},N_={home:"Home",shop:"Shop",about:"About",faq:"FAQ",contact:"Contact",explore:"Explore Collection"},C_={headline:`Timeless Furniture,
Crafted for Modern Living`,subheadline:"Discover premium furniture pieces that blend luxury craftsmanship with contemporary design  made for discerning Saudi homes.",ctaPrimary:"Explore Collection",ctaSecondary:"Contact Us",badges:{curated:"+30 Curated Pieces",delivery:"Fast Saudi Delivery",materials:"Premium Materials"},stats:{premiumPieces:"Premium Pieces",trusted:"Trusted in Saudi Arabia"}},P_={eyebrow:"Featured Collection",headline:`Our most popular
pieces, handpicked for you`,description:"Each piece in our signature collection is selected for its exceptional craftsmanship, material quality, and timeless appeal.",cta:"Shop All Pieces"},O_={eyebrow:"Signature Collections",headline:"Find Your Perfect Piece",tabs:{sofa:"Sofas",bed:"Beds",dining:"Dining"},viewAll:"View all {{category}}"},T_=["FURNITURE","INTERIOR","DESIGN","LUXURY","MADINA","CRAFTSMANSHIP","SAUDI ARABIA","TIMELESS"],R_={eyebrow:"Our Story",headline:"Built on a Passion for Beautiful Living",body:`At Shahed Storee, we believe your home deserves furniture as unique as you are. Founded in the heart of Saudi Arabia, we curate premium furniture pieces that marry timeless design with contemporary sensibility.

Every piece in our collection is hand-selected for material quality, durability, and aesthetic excellence  ensuring your investment lasts a lifetime.`,stats:{curated:"Curated Pieces",materials:"Premium Materials",coverage:"Delivery Coverage"},cta:"Our Story"},A_={eyebrow:"Our Commitment",headline:`Eco-Friendly Designs,
Timeless Quality`,description:"We partner with manufacturers who share our values  sustainable sourcing, ethical production, and uncompromising quality standards.",pillars:{sustainable:{title:"Sustainable Materials",desc:"Responsibly sourced wood, natural fabrics, and eco-conscious finishes."},craftsmanship:{title:"Premium Craftsmanship",desc:"Every joint, stitch, and finish is held to the highest standard."},delivery:{title:"White Glove Delivery",desc:"We deliver and set up your furniture with care across Saudi Arabia."}}},L_={eyebrow:"FAQ",headline:"Common Questions",cta:"See all questions"},I_={badge:"Start Today",headline:`Let's Create Your
Dream Living Space`,subheadline:"Chat with our furniture experts on WhatsApp and get personalized recommendations for your home.",cta:"Start the Conversation"},$_={description:"Premium furniture curated for modern Saudi living. Timeless pieces, exceptional quality.",links:"Quick Links",policies:"Policies",rights:"Shahed Storee. All rights reserved."},U_={badge:"Our Story",headline:`Crafting Beautiful Spaces,
One Piece at a Time`,body1:"Shahed Storee was born from a simple belief: everyone deserves a home that feels both luxurious and personal. Founded in Madina, we set out to bring world-class furniture to Saudi homemakers  pieces that tell a story, built to last generations.",body2:"Our team personally curates every item in our collection, working directly with manufacturers who share our commitment to quality, sustainability, and ethical production. From Italian leather sofas to hand-carved dining tables, each piece carries the mark of true craftsmanship.",body3:"We are proud to serve customers across Saudi Arabia, delivering premium furniture with the care and attention it deserves.",valuesBadge:"Our Values",valuesHeadline:"What Drives Us",values:{quality:{title:"Quality First",desc:"Every piece is vetted for materials, construction, and longevity before it earns a place in our collection."},sustainability:{title:"Sustainability",desc:"We prioritize responsibly sourced materials and eco-conscious manufacturing partners."},customer:{title:"Customer Focus",desc:"Your satisfaction is our measure of success. We're always here on WhatsApp to help."},heritage:{title:"Saudi Heritage",desc:"Proudly serving the Kingdom  our designs respect both modern tastes and traditional values."}},ctaHeadline:"Ready to find your piece?",ctaSub:"Explore our full collection or chat with us on WhatsApp.",whatsappUs:"WhatsApp Us"},D_={headline:"Get in Touch",subheadline:"Have a question? Want to see more photos? Ready to order? We're just a message away.",hours:"SatThu, 9 AM  9 PM (KSA)"},M_={header:{title:"Our Collection",subtitle:"Discover premium furniture pieces for every room."},filters:{categories:"Categories",materials:"Materials",allCategories:"All Categories",allMaterials:"All Materials",sort:{label:"Sort By",newest:"Newest Arrivals",priceAsc:"Price: Low to High",priceDesc:"Price: High to Low",nameAsc:"Alphabetical (A-Z)"},results:"{{count}} piece",resultsPlural:"{{count}} pieces"},empty:{title:"No pieces found",desc:"Try adjusting your filters to find the perfect piece.",clearFilters:"Clear all filters"}},F_={deliveryArea:"Delivery Area",selectCity:"Select your city",deliveryTime:"Delivery time confirmed upon order via WhatsApp",morePricingMsg:"We'll confirm pricing, delivery timeline, and payment details on WhatsApp."},z_={shipping:{title:"Shipping Policy",content:`**Delivery Areas**
We deliver across Saudi Arabia, including Madina, Jeddah, Dammam, Makkah, Madinah, and other cities.

**Delivery Times**
- Madina: 35 business days
- Major cities: 57 business days
- Remote areas: 714 business days

**Delivery Fees**
Delivery fees vary by location and order size. Final delivery cost is confirmed at time of order via WhatsApp.

**White Glove Service**
Our team delivers and assembles furniture in your home at no extra charge within Madina.`},returns:{title:"Return Policy",content:`**Return Window**
We accept returns within 7 days of delivery for items in original, unused condition.

**Conditions**
- Item must be in original packaging or returned without damage
- Custom and made-to-order items are non-returnable
- Assembly and delivery fees are non-refundable

**How to Return**
Contact us on WhatsApp to initiate a return. We will arrange pickup at a time convenient for you.

**Refunds**
Refunds are processed within 510 business days after item inspection.`},privacy:{title:"Privacy Policy",content:`**Data We Collect**
We collect your name, phone number, and order details as provided through WhatsApp.

**How We Use Your Data**
Your information is used solely to process and deliver your orders. We do not sell or share your data with third parties.

**WhatsApp Communication**
By contacting us via WhatsApp, you consent to communication through this platform for order-related purposes.

**Contact**
For privacy concerns, contact us at hello@shahedstoree.sa`},terms:{title:"Terms & Conditions",content:`**1. Orders**
All orders are placed via WhatsApp and confirmed by our team. An order is binding upon confirmation of payment.

**2. Pricing**
All prices are listed in SAR (Saudi Riyal) and include VAT. Prices are subject to change without notice.

**3. Payment**
Payment details are provided at time of order confirmation via WhatsApp.

**4. Liability**
Shahed Storee is not liable for delays caused by circumstances beyond our control, including customs, natural events, or logistics disruptions.

**5. Governing Law**
These terms are governed by the laws of the Kingdom of Saudi Arabia.`}},B_=[{q:"Do you deliver across Saudi Arabia?",a:"Yes, we deliver to all major cities in Saudi Arabia. Delivery times vary by area  contact us on WhatsApp for your specific location."},{q:"Can I see the furniture before buying?",a:"We currently operate online only. All product images are high-quality and accurately represent the pieces. Contact us for more photos or videos of any item."},{q:"What materials do you use?",a:"Our collection features premium materials including Italian leather, solid hardwood, sintered stone, and high-grade fabric upholstery."},{q:"How do I place an order?",a:"Simply chat with us on WhatsApp! Select your desired piece, choose your variants, and we'll guide you through the order and delivery process."},{q:"What is your return policy?",a:"We accept returns within 7 days of delivery if the item is in original condition. Custom or made-to-order pieces are non-returnable. See our full Returns Policy for details."},{q:"Do you offer custom sizes or fabrics?",a:"Many of our pieces are available in custom sizes and fabric options. Please contact us on WhatsApp to discuss customization options and lead times."},{q:"How long does delivery take?",a:"Standard delivery within Madina takes 35 business days. Delivery to other cities varies from 510 business days. We'll confirm the timeline when you order."},{q:"Are prices negotiable?",a:"Our prices are fixed and reflect the premium quality of our pieces. However, we occasionally run seasonal promotions. Follow us on social media to stay updated."}],W_={brand:j_,common:E_,nav:N_,hero:C_,featured:P_,collections:O_,marquee:T_,aboutSection:R_,quality:A_,faqPreview:L_,ctaBanner:I_,footer:$_,aboutPage:U_,contactPage:D_,shopPage:M_,productDetails:F_,policies:z_,faqs:B_},V_={name:" ",tagline:"    ",subTagline:"               .",address:"    ",whatsappLabel:"   "},q_={loading:" ...",error:"  ",tryAgain:"  ",backToHome:" ",shopNow:" ",viewAll:" ",sar:".",chatOnWhatsapp:"  "},H_={home:"",shop:"",about:" ",faq:" ",contact:" ",explore:" "},K_={headline:` 
  `,subheadline:"               .",ctaPrimary:" ",ctaSecondary:" ",badges:{curated:"+30  ",delivery:"   ",materials:" "},stats:{premiumPieces:" ",trusted:"   "}},G_={eyebrow:" ",headline:`  
   `,description:"               .",cta:"  "},J_={eyebrow:" ",headline:"    ",tabs:{sofa:" ",bed:" ",dining:" "},viewAll:"   {{category}}"},Q_=[""," ","",""," ","","  ",""],Y_={eyebrow:"",headline:"    ",body:`            .              .

                    .`,stats:{curated:" ",materials:" ",coverage:" "},cta:" "},X_={eyebrow:"",headline:` 
 `,description:"                 .",pillars:{sustainable:{title:" ",desc:"          ."},craftsmanship:{title:" ",desc:"         ."},delivery:{title:"  ",desc:"           ."}}},Z_={eyebrow:" ",headline:" ",cta:"  "},eb={badge:" ",headline:`  
 `,subheadline:"            .",cta:"  "},tb={description:"        .    .",links:" ",policies:"",rights:" .   ."},rb={badge:"",headline:`  
  `,body1:"     :         .                    .",body2:"                  .               .",body3:"                 .",valuesBadge:"",valuesHeadline:"  ",values:{quality:{title:" ",desc:"               ."},sustainability:{title:"",desc:"            ."},customer:{title:"  ",desc:"   .         ."},heritage:{title:" ",desc:"            ."}},ctaHeadline:"    ",ctaSub:"           .",whatsappUs:"  "},nb={headline:" ",subheadline:"                   .",hours:" 9   9  ( )"},sb={header:{title:"",subtitle:"       ."},filters:{categories:"",materials:"",allCategories:" ",allMaterials:" ",sort:{label:" ",newest:"",priceAsc:":   ",priceDesc:":   ",nameAsc:" (-)"},results:" {{count}}",resultsPlural:" {{count}}"},empty:{title:"    ",desc:"      .",clearFilters:"  "}},ib={deliveryArea:" ",selectCity:" ",deliveryTime:"       ",morePricingMsg:"         ."},ab={shipping:{title:"  ",content:`** **
                   .

** **
-  : 35  
-   : 57  
-  : 714  

** **
       .           .

**   ( )**
            .`},returns:{title:"  ",content:`** **
    7            .

** **
-               .
-            .
-      .

** **
      .      .

** **
      5-10        .`},privacy:{title:" ",content:`**  **
  :          .

**  **
     .        .

**  **
                 .

****
       : hello@shahedstoree.sa`},terms:{title:" ",content:`**1. **
            .        .

**2. **
      (SAR)          .

**3. **
          .

**4.  **
                      .

**5.  **
        .`}},ob=[{q:"     ",a:"          .            ."},{q:"     ",a:"       .         .           ."},{q:"    ",a:"                   ()    ."},{q:"   ",a:"     !               ."},{q:"     ",a:"    7           .         .  ' '     ."},{q:"       ",a:"           .           ."},{q:"    ",a:"       3  5   .          5  10    .           ."},{q:"    ",a:"       .        .          ."}],lb={brand:V_,common:q_,nav:H_,hero:K_,featured:G_,collections:J_,marquee:Q_,aboutSection:Y_,quality:X_,faqPreview:Z_,ctaBanner:eb,footer:tb,aboutPage:rb,contactPage:nb,shopPage:sb,productDetails:ib,policies:ab,faqs:ob},ub={en:{translation:W_},ar:{translation:lb}};ge.use(iw).init({resources:ub,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});ge.on("languageChanged",t=>{document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.lang=t});document.documentElement.dir=ge.language==="ar"?"rtl":"ltr";document.documentElement.lang=ge.language;Mf(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(S_,{})}));
